webpackJsonp([1],{"3J1e":function(e,t){},"4m3P":function(e,t){},"5rS3":function(e,t){},"7Otq":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAVCAYAAACOleY7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjAxNUQ0RDk5QkMyQzExRTU4ODQxQzJEOTdCMDYwMEREIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjAxNUQ0RDlBQkMyQzExRTU4ODQxQzJEOTdCMDYwMEREIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDE1RDREOTdCQzJDMTFFNTg4NDFDMkQ5N0IwNjAwREQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDE1RDREOThCQzJDMTFFNTg4NDFDMkQ5N0IwNjAwREQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7YZR/FAAAG50lEQVR42uyaCWxVRRSGX3nFsggiUFZlKUYRWSwCRSkUjBAhqcQQFBCERNlag4BEcMOgwYCSWEAQpAmYuiGLEEQEiZTNgFQsRQIiIIgQNomkZWuB5xnyj/4eZ+57Jrahpif58uaec+bO3Lkz954z98VFIpEQyS1CbSFOKBJOhfzSQigW6gknhV9D5UOqC3fhGq8Iu8q4/Xrog5HTGOf/WhYK/VDOEiZ7Pc0EIHIif8liZbO0EvaS33mhvcf3RuQZ6vveMm47EeNlpWsptXOB2hgc5FtJzYe7qfybY76kCflCSxwfFToLO0PlR9pSuaxX/31CNTreUwptNBWq0vG2IGeeADXpxhr5Qvn2FXKFyjheKjQXdofKl3Si8udl3HYHKptFc7YU2kih8iHhQKwToCO9my4L68k2XlhBx68J/YWrUToTdwNOgHb27Sd8UMZtp1F5bSm10ZXK30ZzjqdyKpV/Ei6hPFMYQ7YhAQMXFp4Uegnt8SjaJ6wR3qVzcrByJ02kMDBPmRJhs7BYyPO0NwQTNwWT15znGk2+Teh7ojBcaMPhj/AqDdQaso0WuiFYrEx9Wym8QH4mYB4oJGN1V8ITcYOQrfp6E14BVvLpkT0WdU1br+D1my68QX2No8DV+P6Mp3COaud+Km9Wtl5YuFWE26+PLQUEaylwGA/dp6Q7LKQEBBT9hUMRv5j6SeRfLRK7pKq20oUfY6j3CfynRvF7B37xwsYY/AxDhdMxtG3pRLZrQmPoM1W9GtB/GOPYTKM2qgslZEsm20RVr0BoY41h4QQZuwijVIW0gJs/SPm+JDwmPC9c9QxKMukvC8OEfvjNUedbSPVaK9suYYIwQhgnFJNtJOo8LswUTpJthzBdyBKawO9jsp8VJmEcRgsZQkP4TVF+z+F6s1XfOAIfqRaD1c8h/QrSHyT9PIzNAPTprGfSPEi6QjrXbOU/2tpcszOiBsrKVM/Nb6hu8sPKPoNs+0j/LOlzHec9QPa50FUVjjr0DPelr7IdJ9ujysYTy6RRzTzXm0F+5onXQNlXkX076Xly5ZB+H+knQNdIjX0t1QaPXRFWfggLz8oM6Jaq/vZypYEdHJsVIbVJ8aJwh+M9PI2CySXCl8r+HZVv9gREOxznvULlvfh9SrgN5WNChiMA4sCWYwfzPm9IxzoC763ez4c9cccUKr8vnFD2LY5x1NmH7Vd99MvKVvx2I53px+8BY/O9cN7RRgpiObshtF9IEta5soAHHBc6QmildO+p4zrCE3S82HGeOp5BT6ZygapTFymmFZuR9CddtqOt1lQ+gklipQGVi9XENHKvI0DTkoS+Wcl1+HA7x2gMkkh/Br+dSXeRUupkdYODsoltnkA+VS3YW4UEXxrYTukzhQXY6FlE+h5Cd5U6hqN0tiOV7WppJDQj/UZVpxWiZiOFeAJURmYRlOLwCvhG2VqqJ0pRQPS8wTMBeqoblh9loynX8SQI0bZ5ezV2tk/do2zk8HVuwu89yEp8kois6x8ToIlaOcOEuWoP4Dwd51B+H1ZplevbQQ8qr3TM/IPCLwE3w74eqqlXSBtHW3ze7f8iB2+unji+zZMaVDYT85yym0ndBWWTjs5zTL5CegV0d0zoBDUxtjr62tSx6NKUXy6e7G+SbqBKRUM2feOAwpfisbwMfQul14HV62TLI/2CKIHcarJPJv0e0l9B0NQEUXCq6ktbqheHyNvKgCjXV98zDl2UXztlz/P0mwPh9ZRyXiZ9OvQ9VSRfRbUxnOy7Pd9xNpA+jLTTlWlcnwBvOzrngj8AnSP9EhU9T0Juu1RF/zU9A5Wh2qmi0pw+ATfAJ2dw0229Sio9zMdNWQT7MLIdVXU1p9V1jRHGCl+TfgvatHW2ku0tz7XYfYHJpNvvaH++J5vY6dkbMKwhWwlnLjrfnBVw4ZkBGxDrA26GyY0TyLeZsusvYmmeHNfSFhd+CDfjknBR1XFN5OWOvtkvnitJty7Kl7YOajFE1ALQ6XJt5WOfPtNJd9yTRhY42r9E9kx6wkUc+x+uPZe/XaPZCp6IyPZaQPBjZA4CH7s1yqnJQ0ijOiMKLsR7fTXe8TqFyUR7Fx3BmvEfifjiFM5VFb42YxhC26tXQQHFBV85+j9YGIfIuAjXuhy2VUiTwjF8IMrDV9NH8I6th36aDy/LPF9RR6GPEYo/PkOsEa+CySykasWeoPppoRbGYxnp07EdXqK2tW2c0JtimD/TyDj1h5AbVUxOOx838QeHfYDwEYLTYqQ8F0IVElXiy0k/6yJV3Y3Iegk+LCUgsh1OvkMrbn7sUl6eAInYj+gTxW+2+nJZIf+TCRCincBBQmPaXDmCuCHbEU9USBT5Q4ABAAYtFc0EclxUAAAAAElFTkSuQmCC"},"85Xl":function(e,t){},"8gvo":function(e,t){},"8ufu":function(e,t){},"9yMP":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAhFJREFUOBGtVbFqVFEQPXN3I74n0RhiYTRfYClGd0VR0NIPEDuLVPkEi6D2oh9gqR9gE7AQsugqphFsrASjaYxahH27EvLGM7NvZd/N3ZCgF4a9b+acuXcOc2cFE5YqBFO4hBItBMw7rMQm913s4K0IdAK17tbzmNKAZdo32m9toEN7VlnHfcPYsmHr7OhLM5whcd2TNbCkc5iOIDAfMUsVZt04Mca/GThL0FeCX6QSxSSdxXHHGofcWtzLtJtZshWqdMBlWOcYd7x83myoWaLE3uV8vt/OH/Rb+X29NjMTn+USVJp6zE8xB3WJwcNkR1eLVlaa9dr5R72Sn45xxnVNeWPRJtuixCvM4pRsYXsE1hsnT/SLwSqbY1EFhflFkYvoy1LC3WOvi82/WKvsJ75TrOvB+0zwfjyZAYveYI0JFrldQ6lf3CAfoHKTLfholMx+ncsclitUTbsxDnAQ8JQ3+6xB7kBk1y3TW6R/agR5HuP5vWG5momAu/Ju/7GqPsHV6bmi3HVfNmjs4M32OWHdk3hWsmmxkAKkiClfxV2wXFZyl8JfOEgzpw41n3NNb+YKuId39P3AL9xOEo5QRSCndk1wn8QMuVs2NDy+X2MboNfOurQONWXu+trT2Bb+70/Pk/7bcNhn4hx+fNUnTV2RqvzRsAgY8J0easDuEXl0gI+xh7joTzP+C2BnyAojifUHiHgYEiajxlIAAAAASUVORK5CYII="},"Cxy+":function(e,t){},Fg8w:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAAAXNSR0IArs4c6QAAAZ5JREFUOBG9U08oBFEc/t6Y1h7ksDflwGELpZSUJCUNB24umwNKUUj5syXlLmtXuSgl9rYXRwd/ahzkIhcHHBwoZQ9S2r0Y7T7fmzHTrh3bnPwu79fv+/PefPOegGnqsG5WIdAFCQ1BSqBI7jVCnRs1GGtfA+Q6hHimVgbRczOd1EnIbEGnsImiJxjLw+yDGUgpcJZ84HbNGjSRpkEUZ6lZrsHK4UYh5KGwFSeJPa4xhGrb0L/wUtXF3GmE9XlHTgZD8WknNK0+Dog8LGu3qliBNodcW4Of1I2ZDwhtjsGM4CQR+9PExshRXKVhOZ/gKk63jtj2ok5rRc/Suzu216tUBPniPftLDK6Mulj5fw/XzBMIkZhyCd6aK2zbmMPxxuUGfYuvROKQcgKnyQGP5fTjNuZwPKjcQI2N5X3eh2vmMeWxVK9mCvtVlQbOZXokr6GEq/pHv4tWaVCiCtL+g4F5EGaoEWZS8DtR9ROo9L/ebils4Y3JBDeQyHHHbsjiOV9cFpreASN+7GfAd+1TemgTBauWqV/AWEr7pe+qvgFJzHnq8HM/7QAAAABJRU5ErkJggg=="},Ii1K:function(e,t){},IxiR:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAMCAYAAABvEu28AAAAAXNSR0IArs4c6QAAAZ9JREFUKBWFUksohFEYPfeOx2KMMhIpTRa2FhNWor/xKmVDsrCjyJRSY2dhaTEzHkV5xU7Jjo0xXiklsbBBE0bsrETjMf+4zjWJf6Zpbv11v/Odc/5zv3sFMq1QwAOlmiDgghDXkGoVHt99JrpIa0Rm8nH3sQSFXkBEaRTlvpo8O6C8aB1dTtMQkGng7ec4sS7YZA9afZVo8RkodlTQcIX4AkLBxjQNAWuio7kixGJPtB9Ds2/CIlBKYCdwQqyc3zGlh8h1z8MwTM2zJnp7r2V8G4RtXTctSwgFKQI85ilnV0TeJOJnx9ifLdC8ZKLwVCm+zEUS2olJ2J2FqO97sRilFruTbpjmAS1WOYLhZKKEucY/1dCiHzbRAvn8EzdVa6k9I+eMMcVkPRrPQWi6CurT4L4DzaObFnLWQlzSqEQfT0Imyn74eSKSVZdKUKqO0CMM76uEsl+wiCEuvJyR9RZThf/rcLCN5RAf66KGk8KQf5D7Oca8ghI3upFl6XelH+kWnI5O1AzE/xJs+xvY7ObQXVlM2FYPzLDH29r45X4DlE53vMT/VPQAAAAASUVORK5CYII="},KBDd:function(e,t){},KMWO:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAAAXNSR0IArs4c6QAAAbFJREFUOBG1U79LQlEU/u57Jg1KS0PtLTY0JC2BUpi2FFFLo0aBRGFkjrXkUuSPoSgcgv6FaNKnQ20NQlNF0dwmVIuZvtu5Pn1PX1e3Dvjud77znV/vXRn6GecMWiYM8BmoziQCsTe73GEnTF/LelBI5cj3gaGKeu2bcNSMt4BiJ5p+Mb0Avf5AiSNgyhxx94TdMq28gK6vkvgZA8MTCO2VZIltrscKTKWOFcyuVQ0h4+0E+ymfwK7q4/9DAfHpgDH6vXc0FngMRqyDBv5OUMxskHAKYJeWkrDgtPS6xRlIdLPsLjuKauORiGuEEhErQKiQuqLnEgbVcfh3zem6J6g2zkhUg0uJ09ltBlejBkJjmlWgkFmmMVegsBim4xVT0QaC43ynqRHalhkraLkh6F9PxJUxn1hsB6VnPnVDvBeK24Ng9MOYQP88oT+MC07npjSpk2xqSNvMoVeNYsYHXb8FxzZ1P+/U9sSF9BY1PKVsvwKdh2mvF7rzFz0T7IFgXDR6BWcRhnxqn6odgLESTdGwa6U+g0pNA1CUQwec3iPUykJHl0dysaQV8EPbJ+GYPP4F4NiATcmM0cUAAAAASUVORK5CYII="},Keqp:function(e,t){},LyjS:function(e,t){},MROf:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAq9JREFUOBGtVU1rE1EUvfeZxCA0Luymaf0BIohCbBNR7Cx0Uazp1iioaUH8CaIgrtwpihsXtohVQRCsShVcqLHY1gb8WOlK0LahaEEaqmnGzPXcGaeZjlMp4oOXl8zcc969536EaZUlIjz48HmWHCdHxGnPTGbJmPHigb0TzCxRUA4/LJfL8Xcz1RNCcoqEWon5FZF89ux4M4l0EtNXJj6/rb3laiaTsYMcKwivP3jZbjdqI8zUhn1OJHG7P7+7GgRcGxlrYa4fEqGz2JX4umT+aO+uGd9mmXB49GnHki0TCO81UbwQJvIB/jk8OpFasn/chPc71sc5e6THmtZ3LqGG+WZ6YRy6VIoHu/M4HR/4txM6m8H7z0Zwtm3vSOU0/JgCVDMNE55ZYTKEmGayTzLEoxRfOG5Z3/xL1BbvC5DgvXLg+RWjt2gCVLNwmC6Z2INI52mH+IwsyNiNxyVc3FyKcfUGh3IZlEYXAJs0AU0zojtPyhvh2V2HZB+yvQjjRUdoi11rDOlFQVvFKodyGa0zlMBU2Lvq94USSDohc4lYPsELbPNWGBdw/WKQ0PUSHMplvKL166xpJoYRKn9kjh/GhQ3dMZPoJeEPhnlFNB5KOTjtJqVJ0/w20GtdgoeXhx69aKXfpcsJsYv7u7ciGZFdomh4iHYidEDEigJGPfOgyiGzRnsTWd4JoVsiONf0yMWq3uAyaPRJVPe8tlMUOmknDKp8AzIca/ysI6I/l4tFf+vQgL7saKNrb0Z5Wchn51A2X5Dl+WM93XNhOsUoVjlUDvdGnRra6ET2LS3OMGigz8r15609Yf08W8VQRTkU91+GQ8wku/yJs0yo7DpxanW5h/DWPL6SCe7zJ80KD/WHruCA1XaCNlMoh38bsB6l96n6aG+u8hcwqckM2vvffwGtpGz19aOCGQAAAABJRU5ErkJggg=="},MzMZ:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAArNJREFUOBGlVUtoU0EUPTP5gEgKJW5arYqIG92In7ToJrTpQoTqQsW6ED+QhVCaVheuxFUXSUTahXbh0s/S4ippiguFRi0qCIobEfwExVJrLUqavPHcSV/yYqIEHXh5M/POOTNz554bhT81YxRmrnbDcXoA01mBqY/Qeha9w3koZZpRVcPk3GQAC9/iMLjIZx2Jj4l5t4rrgjF7ofCFzxja2yaxO77i1agXnLmyHiVnCsp0wKjLWNt+G/vPLHkJeHgjhOWF48RcIqYAvx5A78gHF1MTvD++ASvFPHf1jEKDDUIuw33nx9uwWLzJne5EINiN6NB7+VQRlGPOL81yXED/6ACP6bi8v76N0cimp4jpQDjUI8fXliAxk2PKzloVy6W3kWsqHHJFg00zyHzkAhiz3+NlV2vyk01eR9l5jVz6sOUI12oYrZkaEYqF7QU04TZMTaeHSeaJ1Ff4fU/td7k80aCWtnmm8KSl3WXTB+CYFCNfgvYdQTTx1grKyUSDOcsY2qR186yyoVzqBDLJCwxHLQsyyR0wzh3ifVB6CH2JXAVc/aWG6fRXh95OGQkOd2E6vZ2ip/FgIowfxXskhJgYE4iNXvPCvX0K0k4wEe8klO8sUMpR7CSyqQCPs4nfNzNuGcQ2ymLNWhe15rT1psEe6wAX1p94TtEoBT5zapCXsI+ir6BCx6COll1Y9S3uEUvS55pGf8QcnLd2qiLYiY28YFJFuWqBwp+g/QcRiy96IdW+tSL9zaKhCXa4+pj1pqzkbX3nXyIY3oLAmq28hDfeT9W+cMTXVkMxqaVJ1RCjLy/c4tYrcy4jeuonoue+u8O6t2Ath1zRYKulxf8UB5+OuBWnJijyIlos3rW+brV8BYOH3EpTv0MZSasrsLSTOOCfC6xVXP2R+IjPm/8FMDOal7hfLRgdYmjppSgAAAAASUVORK5CYII="},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App"},a,!1,function(e){s("vs8N")},null,null).exports,n=s("/ocq"),o=s("Xxa5"),l=s.n(o),c=s("exGp"),u=s.n(c),p={name:"Login",data:function(){return{form:{username:"",password:""}}},methods:{submitForm:function(e){var t=this;return u()(l.a.mark(function e(){var s,r,a,i,n,o,c,u,p,d,m,f;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.axios.getUserInfo(t.form);case 3:if(null==(s=e.sent.data).Result||1!==s.Result){e.next=40;break}return r=s.User.Character,a=s.User.OMCIDList,e.next=9,t.axios.getProductList();case 9:return i=e.sent.data,e.next=12,t.axios.getOMCIDCloudList();case 12:n=e.sent.data,r<3&&(i=i.filter(function(e){return e.Used}),n=n.filter(function(e){return e.Used})),t.$store.commit("setProductList",i),o=!1,1===a.length&&"*"===a[0]&&(a=[],o=!0),c={},u=0;case 19:if(!(u<n.length)){e.next=32;break}if(o){e.next=25;break}if(-1!==a.indexOf(n[u].OMCID)){e.next=23;break}return e.abrupt("continue",29);case 23:e.next=26;break;case 25:a.push(n[u].OMCID);case 26:void 0===c[n[u].Enterprise]&&(c[n[u].Enterprise]={}),void 0===c[n[u].Enterprise][n[u].Service]&&(c[n[u].Enterprise][n[u].Service]=[]),c[n[u].Enterprise][n[u].Service].push(n[u].OMCID);case 29:++u,e.next=19;break;case 32:for(d in p=[],c){for(f in m=[],c[d])m.push({value:c[d][f].join(","),label:f});p.push({value:d,label:d,children:m})}o&&(s.User.OMCIDList=a),t.$store.commit("setOmcIdCloudList",p),t.$store.commit("setUser",s.User),t.$router.push("/MainPage"),e.next=41;break;case 40:t.$message("用户名或密码错误");case 41:e.next=47;break;case 43:e.prev=43,e.t0=e.catch(0),t.$message("连接服务器失败"),console.log(e.t0);case 47:case"end":return e.stop()}},e,t,[[0,43]])}))()},resetForm:function(e){this.$refs[e].resetFields()},forgetPassword:function(){this.$message("请联系当地督导人员确认账号密码")},signUp:function(){this.$message("请联系当地督导人员申请施工队、代维账号密码")}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("el-row",[r("el-col",{attrs:{span:12,offset:6}},[r("div",{staticClass:"login-card"},[r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.form}},[r("el-form-item",[r("img",{staticClass:"login-logo",attrs:{src:s("sC/+")}})]),e._v(" "),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{type:"text",placeholder:"用户名","prefix-icon":"el-icon-info"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"密码","prefix-icon":"el-icon-goods"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("el-form-item",[r("el-button",{staticClass:"button",on:{click:function(t){e.submitForm("loginForm")}}},[e._v("登录")]),e._v(" "),r("el-button",{staticClass:"login-tag",staticStyle:{"margin-left":"0px"},attrs:{type:"text"},on:{click:e.forgetPassword}},[e._v("忘记密码？")]),e._v(" "),r("el-button",{staticClass:"login-tag",staticStyle:{float:"right"},attrs:{type:"text"},on:{click:e.signUp}},[e._v("注册账号")])],1)],1)],1)])],1)],1)},staticRenderFns:[]};var m=s("VU/8")(p,d,!1,function(e){s("Ii1K")},"data-v-60cad436",null).exports,f={data:function(){return{selectedColor:"#000000",menu:{isCollapse:!1,selectedIndex:"0",items:[{icon:"el-icon-star-on",name:"首页",view:"HomePage"}]}}},created:function(){var e=this.$store.state.user.Character;e>4&&this.menu.items.push({icon:"el-icon-setting",name:"软件更新",view:"ManagerPage"}),this.menu.items.push({icon:"el-icon-share",name:"关于我们"})},methods:{select:function(e){e===(this.menu.items.length-1).toString()?window.open("http://www.kongtrolink.com"):this.$emit("select",this.menu.items[e].view)}}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"div"},[e._m(0),e._v(" "),s("el-menu",{staticClass:"menu",attrs:{"default-active":e.menu.selectedIndex,collapse:e.menu.isCollapse,"collapse-transition":!0,"background-color":"#333E4B","text-color":"#FFFFFF"},on:{select:e.select}},e._l(e.menu.items,function(t,r){return s("el-menu-item",{key:r,staticClass:"menu-item",attrs:{index:r.toString()}},[s("i",{class:t.icon}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])])}))],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"text-align":"center"}},[t("img",{staticClass:"logo",attrs:{src:s("7Otq")}})])}]};var g=s("VU/8")(f,v,!1,function(e){s("iKY+")},"data-v-5a0d8b83",null).exports,h={data:function(){return{}},computed:{username:function(){return this.$store.state.user.Username},date:function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}},methods:{logout:function(){this.$store.commit("setUser",void 0),this.$router.push("/")}}},b={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header select-none"},[s("div",{staticClass:"title item"},[e._v("动力环境监控系统")]),e._v(" "),s("div",{staticClass:"item",staticStyle:{float:"right"}},[s("el-button",{staticClass:"item info",attrs:{type:"text",icon:"el-icon-date"}},[e._v(e._s(e.date))]),e._v(" "),s("el-button",{staticClass:"item info",attrs:{type:"text",icon:"el-icon-location"}},[e._v(e._s(e.username))]),e._v(" "),s("el-button",{staticClass:"item info",attrs:{type:"text",icon:"el-icon-back"},on:{click:e.logout}},[e._v("退出")])],1)])},staticRenderFns:[]};var D=s("VU/8")(h,b,!1,function(e){s("pz3t")},"data-v-33a1caad",null).exports,I={data:function(){return{treeProps:{label:"Name",children:"SubAddressList",icon:"icon",disabled:"disabled"},address:[]}},created:function(){var e=this;return u()(l.a.mark(function t(){var s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={address:e.$store.state.user.Address},t.prev=1,t.next=4,e.axios.getAddress(s);case 4:t.t0=t.sent.data,e.address=[t.t0],t.next=11;break;case 8:t.prev=8,t.t1=t.catch(1),e.$message({message:"获取地区列表失败",type:"error"});case 11:case"end":return t.stop()}},t,e,[[1,8]])}))()},methods:{check:function(e,t){for(var s=new Array(0),r=new Array(0),a=this.$refs.tree.getCheckedNodes(),i=0;i<a.length;++i)r.push(a[i].ID);r.sort();for(var n=void 0,o=0;o<r.length;++o)0!==o?0!==r[o].indexOf(n)&&(s.push(r[o]),n=r[o]):(s.push(r[o]),n=r[o]);this.$emit("selectAddress",s),console.log(s)}}},x={render:function(){var e=this.$createElement;return(this._self._c||e)("el-tree",{ref:"tree",staticStyle:{"background-color":"#f5f7fa"},attrs:{"show-checkbox":"","node-key":"ID",props:this.treeProps,data:this.address},on:{check:this.check}})},staticRenderFns:[]};var S={data:function(){return{filterShow:!1,filter:{stationName:"",fsuid:"",uniqueID:"",businessScene:[],omcIdCloudList:[],stationStatusID:[],online:null,wirelessModuleModel:[],carrierID:[],netWorkTypeID:[],deviceVersionList:[],engineMin:"",engineMax:"",programMin:"",programMax:"",fsuMin:"",fsuMax:"",fsuidList:[],uniqueIDList:[]},product:"",deviceInfo:[]}},computed:{productList:function(){var e=[];for(var t in this.$store.state.productList)for(var s in this.$store.state.productList[t].BusinessSceneList)if(this.$store.state.productList[t].BusinessSceneList[s].ID===this.$store.state.curBusinessScene.ID){e.push(this.$store.state.productList[t]);break}return e},omcIdCloudList:function(){return this.$store.state.omcIdCloudList},businessNum:function(){var e=0;for(var t in this.omcIdCloudList)e+=this.omcIdCloudList[t].children.length;return e}},watch:{product:function(e,t){if(this.deviceInfo=[],this.filter.deviceVersionList=[],""!==e&&void 0!==this.$store.state.deviceInfo[this.productList[e].ID])for(var s in this.filter.uniqueID=this.productList[e].UniqueIDKey.padEnd(20,"_"),this.$store.state.deviceInfo[this.productList[e].ID])for(var r=0;r<this.$store.state.deviceInfo[this.productList[e].ID][s].length;++r)this.deviceInfo.push(this.$store.state.deviceInfo[this.productList[e].ID][s][r])}},methods:{uploadFile:function(e){var t=this;return u()(l.a.mark(function s(){var r,a;return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return(r=new FormData).append("file",e.file,e.file.name),s.next=4,t.axios.uploadFilterFile(r);case 4:return 0===(a=s.sent.data).Result&&e.onError(a.Message),s.abrupt("return",a);case 7:case"end":return s.stop()}},s,t)}))()},success:function(e,t,s){this.filter.fsuidList=e.FSUIDList,this.filter.uniqueIDList=e.UniqueIDList},error:function(e){this.$message({message:e,type:"error"})},remove:function(){this.filter.fsuidList=[],this.filter.uniqueIDList=[]},exportExcel:function(){this.$emit("export",this.filter)},search:function(){this.$emit("search",this.filter)},resetForm:function(){this.filter.stationName="",this.filter.fsuid="",this.filter.uniqueID="",this.filter.businessScene=[],this.filter.omcIdCloudList=[],this.filter.stationStatusID=[],this.filter.online=null,this.filter.wirelessModuleModel=[],this.filter.carrierID=[],this.filter.netWorkTypeID=[],this.filter.deviceVersionList=[],this.filter.engineMin="",this.filter.engineMax="",this.filter.programMin="",this.filter.programMax="",this.filter.fsuMin="",this.filter.fsuMax="",this.filter.fsuidList=[],this.filter.uniqueIDList=[],this.$refs.upload.clearFiles(),this.product=""}}},y={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"filter",staticClass:"form",attrs:{inline:!0,model:e.filter,"label-width":"70px",size:"mini"}},[r("el-form-item",{staticClass:"formItem",attrs:{label:"基站名称",prop:"stationName"}},[r("el-input",{staticClass:"input",model:{value:e.filter.stationName,callback:function(t){e.$set(e.filter,"stationName","string"==typeof t?t.trim():t)},expression:"filter.stationName"}})],1),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"FSUID",prop:"fsuid"}},[r("el-input",{staticClass:"input",model:{value:e.filter.fsuid,callback:function(t){e.$set(e.filter,"fsuid","string"==typeof t?t.trim():t)},expression:"filter.fsuid"}})],1),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"出厂码",prop:"uniqueID"}},[r("el-input",{staticClass:"input",model:{value:e.filter.uniqueID,callback:function(t){e.$set(e.filter,"uniqueID","string"==typeof t?t.trim():t)},expression:"filter.uniqueID"}})],1),e._v(" "),e.businessNum>1?r("el-form-item",{staticClass:"formItem",attrs:{label:"业务",prop:"omcIdList"}},[r("el-cascader",{attrs:{clearable:"",options:e.omcIdCloudList,"expand-trigger":"hover"},model:{value:e.filter.omcIdCloudList,callback:function(t){e.$set(e.filter,"omcIdCloudList",t)},expression:"filter.omcIdCloudList"}})],1):e._e(),e._v(" "),e.filterShow?r("el-form-item",{staticClass:"formItem",attrs:{label:"FSU状态",prop:"stationStatusID"}},[r("el-select",{staticStyle:{width:"202px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:e.filter.stationStatusID,callback:function(t){e.$set(e.filter,"stationStatusID",t)},expression:"filter.stationStatusID"}},e._l(this.$store.state.stationStatusList,function(e){return r("el-option",{key:e.ID,attrs:{label:e.Description,value:e.ID}})}))],1):e._e(),e._v(" "),e.filterShow?r("el-form-item",{staticClass:"formItem",attrs:{label:"基站状态",prop:"online"}},[r("el-select",{staticStyle:{width:"202px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.filter.online,callback:function(t){e.$set(e.filter,"online",t)},expression:"filter.online"}},[r("el-option",{key:!0,attrs:{label:"在线",value:!0}}),e._v(" "),r("el-option",{key:!1,attrs:{label:"离线",value:!1}})],1)],1):e._e(),e._v(" "),e.filterShow?r("el-form-item",{staticClass:"formItem",attrs:{label:"无线模块",prop:"wirelessModuleModel"}},[r("el-select",{staticStyle:{width:"202px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:e.filter.wirelessModuleModel,callback:function(t){e.$set(e.filter,"wirelessModuleModel",t)},expression:"filter.wirelessModuleModel"}},e._l(this.$store.state.wirelessModuleList,function(e,t){return r("el-option",{key:t,attrs:{label:e.Name,value:e.Name}})}))],1):e._e(),e._v(" "),e.filterShow?r("el-form-item",{staticClass:"formItem",attrs:{label:"运营商",prop:"carrierID"}},[r("el-select",{staticStyle:{width:"202px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:e.filter.carrierID,callback:function(t){e.$set(e.filter,"carrierID",t)},expression:"filter.carrierID"}},e._l(this.$store.state.carrierList,function(e){return r("el-option",{key:e.ID,attrs:{label:e.Description,value:e.ID}})}))],1):e._e(),e._v(" "),e.filterShow?r("el-form-item",{staticClass:"formItem",attrs:{label:"制式",prop:"netWorkTypeID"}},[r("el-select",{staticStyle:{width:"202px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:e.filter.netWorkTypeID,callback:function(t){e.$set(e.filter,"netWorkTypeID",t)},expression:"filter.netWorkTypeID"}},e._l(this.$store.state.netWorkTypeList,function(e){return r("el-option",{key:e.ID,attrs:{label:e.Description,value:e.ID}})}))],1):e._e(),e._v(" "),e.filterShow?r("el-form-item",{staticClass:"formItem",attrs:{label:"引擎"}},[r("el-input",{staticClass:"input",staticStyle:{width:"94px"},model:{value:e.filter.engineMin,callback:function(t){e.$set(e.filter,"engineMin","string"==typeof t?t.trim():t)},expression:"filter.engineMin"}}),e._v(" "),r("span",[e._v("-")]),e._v(" "),r("el-input",{staticClass:"input",staticStyle:{width:"94px"},model:{value:e.filter.engineMax,callback:function(t){e.$set(e.filter,"engineMax","string"==typeof t?t.trim():t)},expression:"filter.engineMax"}})],1):e._e(),e._v(" "),e.filterShow?r("el-form-item",{staticClass:"formItem",attrs:{label:"适配层"}},[r("el-input",{staticClass:"input",staticStyle:{width:"94px"},model:{value:e.filter.programMin,callback:function(t){e.$set(e.filter,"programMin","string"==typeof t?t.trim():t)},expression:"filter.programMin"}}),e._v(" "),r("span",[e._v("-")]),e._v(" "),r("el-input",{staticClass:"input",staticStyle:{width:"94px"},model:{value:e.filter.programMax,callback:function(t){e.$set(e.filter,"programMax","string"==typeof t?t.trim():t)},expression:"filter.programMax"}})],1):e._e(),e._v(" "),e.filterShow?r("el-form-item",{staticClass:"formItem",attrs:{label:"FSU软件"}},[r("el-input",{staticClass:"input",staticStyle:{width:"94px"},model:{value:e.filter.fsuMin,callback:function(t){e.$set(e.filter,"fsuMin","string"==typeof t?t.trim():t)},expression:"filter.fsuMin"}}),e._v(" "),r("span",[e._v("-")]),e._v(" "),r("el-input",{staticClass:"input",staticStyle:{width:"94px"},model:{value:e.filter.fsuMax,callback:function(t){e.$set(e.filter,"fsuMax","string"==typeof t?t.trim():t)},expression:"filter.fsuMax"}})],1):e._e(),e._v(" "),e.filterShow?r("el-form-item",{staticClass:"formItem",attrs:{label:"产品型号"}},[r("el-select",{staticStyle:{width:"202px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.product,callback:function(t){e.product=t},expression:"product"}},e._l(this.productList,function(e,t){return r("el-option",{key:t,attrs:{label:e.Description,value:t}})}))],1):e._e(),e._v(" "),e.filterShow?r("el-form-item",{staticClass:"formItem",attrs:{label:"设备信息",prop:"deviceVersionList"}},[r("el-select",{staticStyle:{width:"350px"},attrs:{multiple:"","collapse-tags":"",filterable:"",placeholder:"请选择"},model:{value:e.filter.deviceVersionList,callback:function(t){e.$set(e.filter,"deviceVersionList",t)},expression:"filter.deviceVersionList"}},e._l(e.deviceInfo,function(t){return r("el-option-group",{key:t.Name,attrs:{label:t.Name}},e._l(t.Models,function(e){return r("el-option",{key:e.Version,attrs:{label:e.Name,value:e.Version}})}))}))],1):e._e(),e._v(" "),r("el-form-item",{staticClass:"formItem"},[r("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.resetForm}},[e._v("重置")])],1),e._v(" "),e.filterShow?r("el-form-item",{staticClass:"formItem"},[r("el-popover",{ref:"import",attrs:{placement:"top-start",title:"导入",width:"355",trigger:"click"}},[r("el-upload",{ref:"upload",attrs:{action:"1",accept:"application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",limit:1,"http-request":e.uploadFile,"on-success":e.success,"on-error":e.error,"on-remove":e.remove}},[r("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("上传文件")]),e._v(" "),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传xls/xlsx文件，且文件中需存在“FSUID”、“FSU运维ID”或“出厂码”列")])],1)],1),e._v(" "),r("el-button",{directives:[{name:"popover",rawName:"v-popover:import",arg:"import"}],attrs:{type:"primary"}},[e._v("导入")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.exportExcel}},[e._v("导出")])],1):e._e(),e._v(" "),this.$store.state.user.Character>=3?r("el-form-item",{staticClass:"formItem"},[e.filterShow?r("img",{staticClass:"filterButton",attrs:{src:s("KMWO")},on:{click:function(t){e.filterShow=!e.filterShow}}}):r("img",{staticClass:"filterButton",attrs:{src:s("Fg8w")},on:{click:function(t){e.filterShow=!e.filterShow}}})]):e._e()],1)},staticRenderFns:[]};var L={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"background-color":"white","text-align":"right"}},[r("el-table",{staticStyle:{"text-align":"left"},attrs:{data:e.stationList,"header-cell-style":{background:"#3E4D5C",color:"#FFFFFF"},size:"medium"}},[r("el-table-column",{attrs:{width:"30"}}),e._v(" "),r("el-table-column",{attrs:{label:"基站名称","show-overflow-tooltip":!0,"min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{cursor:"pointer",color:"#00B98B",padding:"0"},on:{click:function(s){e.clickName(t.row)}}},[e._v(e._s(t.row.Name))])]}}])}),e._v(" "),e.businessNum>1?r("el-table-column",{attrs:{label:"企业",prop:"Enterprise","min-width":"80px"}}):e._e(),e._v(" "),e.businessNum>1?r("el-table-column",{attrs:{label:"服务",prop:"Service","min-width":"80px"}}):e._e(),e._v(" "),r("el-table-column",{attrs:{label:"升级",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.Online&&!1===t.row.Lasted?r("img",{staticStyle:{cursor:"pointer","margin-top":"5px"},attrs:{src:s("9yMP")},on:{click:function(s){e.update(t.row)}}}):!1===t.row.Online&&!1===t.row.Lasted?r("img",{staticStyle:{cursor:"pointer","margin-top":"5px"},attrs:{src:s("MROf")},on:{click:function(s){e.update(t.row)}}}):!0===t.row.Online&&!0===t.row.Lasted?r("img",{staticStyle:{cursor:"pointer","margin-top":"5px"},attrs:{src:s("MzMZ")},on:{click:function(s){e.update(t.row)}}}):!1===t.row.Online&&!0===t.row.Lasted?r("img",{staticStyle:{cursor:"pointer","margin-top":"5px"},attrs:{src:s("uYk1")},on:{click:function(s){e.update(t.row)}}}):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"FSUID",prop:"FSUID","min-width":"135px"}}),e._v(" "),r("el-table-column",{attrs:{label:"出厂码",prop:"UniqueID","min-width":"185px"}}),e._v(" "),r("el-table-column",{attrs:{label:"IP",prop:"IP",width:"125px"}}),e._v(" "),r("el-table-column",{attrs:{label:"状态",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(e){return[e.row.Online?r("img",{attrs:{src:s("IxiR")}}):r("img",{attrs:{src:s("XMVu")}})]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"离线时间","min-width":"170px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.Online?e._e():r("span",[e._v(e._s(t.row.OfflineTime))])]}}])})],1),e._v(" "),r("el-pagination",{attrs:{"page-size":e.pageSize,layout:"total, prev, pager, next, jumper","current-page":e.curPage,total:e.stationNum},on:{"current-change":e.changePage}})],1)},staticRenderFns:[]};var w={components:{"v-address-tree":s("VU/8")(I,x,!1,function(e){s("myrM")},"data-v-33aeb713",null).exports,"v-search-box":s("VU/8")(S,y,!1,function(e){s("hiDg")},"data-v-6414b510",null).exports,"v-station-table":s("VU/8")({props:["stationNum","stationList"],data:function(){return{curPage:1}},computed:{pageSize:function(){return this.$store.state.pageSize},businessNum:function(){var e=0;for(var t in this.$store.state.omcIdCloudList)e+=this.$store.state.omcIdCloudList[t].children.length;return e}},methods:{clickName:function(e){this.$emit("addDetailTab",e.Name,e.UniqueID)},update:function(e){this.$emit("addUpdateTab",e.Name,e.UniqueID)},changePage:function(e){this.$emit("changePage",e)},setPage:function(e){this.curPage=e}}},L,!1,function(e){s("85Xl")},"data-v-c3928484",null).exports},data:function(){return{filter:{Name:"",FSUID:"",UniqueID:"",AddressList:[],CurrentPage:1,PageSize:0},address:[],stationNum:0,station:[],waitSearch:!1}},computed:{userOmcIdCloudList:function(){return this.$store.state.user.OMCIDList},userAddress:function(){return this.$store.state.user.Address},curFileVersion:function(){return this.$store.state.curFileVersion},curBusinessScene:function(){return this.$store.state.curBusinessScene},productList:function(){return this.$store.state.productList},updateInfo:function(){return this.$store.state.updateInfo}},methods:{selectAddress:function(e){this.address=e},addDetailTab:function(e,t){this.$emit("addDetailTab",e,t)},addUpdateTab:function(e,t){this.$emit("addUpdateTab",e,t)},convertFilter:function(e){var t={};return t.Name=e.stationName.trim(),t.FSUID=e.fsuid.trim(),t.UniqueID=e.uniqueID.trim(),t.AddressList=this.address.slice(0),0===t.AddressList.length&&(t.AddressList.push("0"),t.AddressList.push(this.$store.state.user.Address)),t.Online=e.online,t.BusinessSceneIDList=e.businessScene,t.StationStatusIDList=e.stationStatusID,t.WirelessModuleList=e.wirelessModuleModel,t.CarrierIDList=e.carrierID,t.NetWorkTypeIDList=e.netWorkTypeID,t.DeviceVersionList=e.deviceVersionList,t.EngineMin=e.engineMin,t.EngineMax=e.engineMax,t.ProgramMin=e.programMin,t.ProgramMax=e.programMax,t.FSUMin=e.fsuMin,t.FSUMax=e.fsuMax,t.FSUIDList=e.fsuidList,t.UniqueIDList=e.uniqueIDList,0===e.omcIdCloudList.length?t.OMCIDList=this.userOmcIdCloudList:2===e.omcIdCloudList.length&&(t.OMCIDList=e.omcIdCloudList[1].split(",")),t},exportExcel:function(e){var t=this;return u()(l.a.mark(function s(){var r,a,i,n,o;return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return(r=t.convertFilter(e)).PageSize=1e6,r.CurrentPage=1,s.prev=3,a={filter:r},s.next=7,t.axios.exportExcel(a);case 7:i=s.sent,n=document.createElement("a"),o=new Date,n.download=o.getFullYear().toString()+(o.getMonth()+1).toString().padStart(2,"0")+o.getDate().toString().padStart(2,"0")+"基站导出.xlsx",n.href=URL.createObjectURL(i.data),document.body.appendChild(n),n.click(),document.body.removeChild(n),s.next=21;break;case 17:s.prev=17,s.t0=s.catch(3),console.log(s.t0),t.$message({message:"导出基站异常",type:"error"});case 21:case"end":return s.stop()}},s,t,[[3,17]])}))()},clickSearch:function(e){this.filter=this.convertFilter(e),this.filter.PageSize=this.$store.state.pageSize,this.changePage(1)},search:function(){var e=this;return u()(l.a.mark(function t(){var s,r,a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.waitSearch=!0,t.prev=1,s={filter:e.filter},t.next=5,e.axios.getStationList(s);case 5:if(1!==(r=t.sent.data).Result){t.next=34;break}0===r.StationNum&&e.$message({message:"未找到符合条件的基站",type:"warning"}),a=0;case 9:if(!(a<r.StationList.length)){t.next=30;break}if(t.prev=10,!1!==e.compareVersion(e.updateInfo.EngineVerDic,r.StationList[a].EngineVersion,r.StationList[a].UniqueID)){t.next=14;break}return r.StationList[a].Lasted=!1,t.abrupt("continue",27);case 14:if(!1!==e.compareProgramVersion(e.updateInfo.ProgramVersionDic,r.StationList[a].ProgramVersion,r.StationList[a].UniqueID)){t.next=17;break}return r.StationList[a].Lasted=!1,t.abrupt("continue",27);case 17:if(!1!==e.compareVersion(e.updateInfo.FsuVerDic,r.StationList[a].FSUVersion,r.StationList[a].UniqueID)){t.next=20;break}return r.StationList[a].Lasted=!1,t.abrupt("continue",27);case 20:r.StationList[a].Lasted=!0,t.next=27;break;case 23:t.prev=23,t.t0=t.catch(10),console.log(t.t0),r.StationList[a].Lasted=!1;case 27:++a,t.next=9;break;case 30:e.stationNum=r.StationNum,e.station=r.StationList,t.next=35;break;case 34:e.$message({message:"查询基站失败",type:"warning"});case 35:t.next=41;break;case 37:t.prev=37,t.t1=t.catch(1),console.log(t.t1),e.$message({message:"查询基站异常",type:"error"});case 41:return t.prev=41,e.waitSearch=!1,t.finish(41);case 44:case"end":return t.stop()}},t,e,[[1,37,41,44],[10,23]])}))()},changePage:function(e){this.filter.CurrentPage=e,this.$refs.stationTable.setPage(e),this.search()},compareVersion:function(e,t,s){var r=this.productList.find(function(e){return 0===s.indexOf(e.UniqueIDKey)});if(void 0===r)return!0;if(void 0===e[this.curFileVersion.ID]||void 0===e[this.curFileVersion.ID][this.curBusinessScene.ID]||void 0===e[this.curFileVersion.ID][this.curBusinessScene.ID][r.ID])return!0;var a=e[this.curFileVersion.ID][this.curBusinessScene.ID][r.ID].Version;return this.common.compareVersion(t,a)},compareProgramVersion:function(e,t,s){var r=this.productList.find(function(e){return 0===s.indexOf(e.UniqueIDKey)});if(void 0===r)return!0;if(void 0===e[this.curFileVersion.ID]||void 0===e[this.curFileVersion.ID][this.curBusinessScene.ID]||void 0===e[this.curFileVersion.ID][this.curBusinessScene.ID][r.ID])return!0;var a=e[this.curFileVersion.ID][this.curBusinessScene.ID][r.ID];return this.common.compareVersion(t,a)}}},C={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.waitSearch,expression:"waitSearch"}],staticClass:"container"},[s("el-aside",{staticClass:"aside",staticStyle:{"background-color":"#f5f7fa"},attrs:{width:"200px"}},[s("v-address-tree",{staticClass:"tree",staticStyle:{"padding-left":"5px"},on:{selectAddress:e.selectAddress}})],1),e._v(" "),s("el-main",{staticClass:"main"},[s("div",{staticClass:"panel"},[s("el-alert",{staticClass:"notice",attrs:{type:"error is-light",title:"欢迎使用OMC管理平台。  2018/8/10"}})],1),e._v(" "),s("div",{staticClass:"panel"},[s("v-search-box",{ref:"searchBox",staticClass:"searchBox",on:{search:e.clickSearch,export:e.exportExcel}})],1),e._v(" "),s("div",{staticClass:"panel"},[s("v-station-table",{ref:"stationTable",staticClass:"stationTable",attrs:{"station-num":e.stationNum,"station-list":e.station},on:{addDetailTab:e.addDetailTab,addUpdateTab:e.addUpdateTab,changePage:e.changePage}})],1)])],1)},staticRenderFns:[]};var _=s("VU/8")(w,C,!1,function(e){s("e+QN")},"data-v-260f3261",null).exports,k={name:"LongitudeAndLatitudeDialog",computed:{rules:function(){return{Longitude:[{required:!0,message:"请输入",trigger:"change"}],Latitude:[{required:!0,message:"请输入",trigger:"change"}]}}},data:function(){return{dialogFormVisible:!1,formLabelWidth:"80px",form:{Longitude:"",Latitude:"",model:0},stationInfo:null}},methods:{toModal:function(e){this.stationInfo=e,this.dialogFormVisible=!0,this.getGps()},close:function(){this.$refs.form.resetFields(),this.$refs.form.clearValidate(),this.dialogFormVisible=!1},getGps:function(){var e=this;return u()(l.a.mark(function t(){var s,r,a,i,n,o,c,u;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.stationInfo||{},r=s.UniqueID,a=s.OMCID,i={UniqueID:r,OMCID:a},t.next=4,e.axios.GetGps(i);case 4:if(n=t.sent){t.next=7;break}return t.abrupt("return");case 7:o=n.data,c=o.Longitude,u=o.Latitude,e.form.Longitude=c-0?c:"",e.form.Latitude=u-0?u:"",c-0&&u-0&&(e.form.model=1);case 11:case"end":return t.stop()}},t,e)}))()},setGps:function(){var e=this;return u()(l.a.mark(function t(){var s,r,a,i,n,o,c,u;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.stationInfo,r=s.UniqueID,a=s.OMCID,i=e.$store.state.user.Username,n=e.form.model,o="",c="",1===n&&(o=e.form.Longitude,c=e.form.Latitude),u={UniqueID:r,OMCID:a,Username:i,Source:window.g.application,Longitude:o,Latitude:c},t.next=9,e.axios.SetGps(u);case 9:1===t.sent.data.Result?e.$message({message:"设置经纬度成功",type:"success"}):e.$message({message:"设置经纬度失败",type:"error"}),e.close();case 12:case"end":return t.stop()}},t,e)}))()},handleSetGps:function(){this.form.Longitude&&this.form.Latitude?this.setGps():this.$message({message:"手动设置经纬度不可为空",type:"warning"})}},mounted:function(){}},A={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{staticClass:"longitude-and-latitude-dialog",attrs:{width:"400px",title:"经纬度设置",visible:e.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,"label-suffix":"：",rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"模式",prop:"model"}},[s("el-radio-group",{model:{value:e.form.model,callback:function(t){e.$set(e.form,"model",t)},expression:"form.model"}},[s("el-radio",{attrs:{label:0}},[e._v("动态模式")]),e._v(" "),s("el-radio",{attrs:{label:1}},[e._v("静态模式")]),e._v(">\n      ")],1)],1),e._v(" "),1===e.form.model?[s("el-form-item",{attrs:{label:"经度",prop:"Longitude"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.Longitude,callback:function(t){e.$set(e.form,"Longitude",t)},expression:"form.Longitude"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"纬度",prop:"Latitude"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.Latitude,callback:function(t){e.$set(e.form,"Latitude",t)},expression:"form.Latitude"}})],1)]:[s("el-form-item",{attrs:{label:"经度"}},[s("span",[e._v("设备自动获取")])]),e._v(" "),s("el-form-item",{attrs:{label:"纬度"}},[s("span",[e._v("设备自动获取")])])]],2),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.handleSetGps}},[e._v("确定")])],1)],1)},staticRenderFns:[]};var F={props:["info"],components:{LongtitudeAndLatitudeDialog:s("VU/8")(k,A,!1,function(e){s("QcO9")},null,null).exports},data:function(){return{stationLoading:!1,versionLoading:!1,stationStatusLoading:!1,setTimeLoading:!1,rebootLoading:!1,wirelessModuleInfoLoading:!1}},computed:{stationStatusList:function(){return this.$store.state.stationStatusList},carrierList:function(){return this.$store.state.carrierList},netWorkTypeList:function(){return this.$store.state.netWorkTypeList},curFileVersion:function(){return this.$store.state.curFileVersion},curBusinessScene:function(){return this.$store.state.curBusinessScene},product:function(){var e=this;return this.$store.state.productList.find(function(t){return 0===e.info.UniqueID.indexOf(t.UniqueIDKey)})},updateInfo:function(){return this.$store.state.updateInfo},engineUpdate:function(){if(void 0===this.product)return!0;if(void 0===this.updateInfo.EngineVerDic[this.curFileVersion.ID]||void 0===this.updateInfo.EngineVerDic[this.curFileVersion.ID][this.curBusinessScene.ID]||void 0===this.updateInfo.EngineVerDic[this.curFileVersion.ID][this.curBusinessScene.ID][this.product.ID])return!0;var e=this.updateInfo.EngineVerDic[this.curFileVersion.ID][this.curBusinessScene.ID][this.product.ID].Version;return this.common.compareVersion(this.info.EngineVersion,e)},programUpdate:function(){if(void 0===this.product)return!0;if(void 0===this.updateInfo.ProgramVersionDic[this.curFileVersion.ID]||void 0===this.updateInfo.ProgramVersionDic[this.curFileVersion.ID][this.curBusinessScene.ID]||void 0===this.updateInfo.ProgramVersionDic[this.curFileVersion.ID][this.curBusinessScene.ID][this.product.ID])return!0;var e=this.updateInfo.ProgramVersionDic[this.curFileVersion.ID][this.curBusinessScene.ID][this.product.ID];return this.common.compareVersion(this.info.ProgramVersion,e)},fsuUpdate:function(){if(void 0===this.product)return!0;if(void 0===this.updateInfo.FsuVerDic[this.curFileVersion.ID]||void 0===this.updateInfo.FsuVerDic[this.curFileVersion.ID][this.curBusinessScene.ID]||void 0===this.updateInfo.FsuVerDic[this.curFileVersion.ID][this.curBusinessScene.ID][this.product.ID])return!0;var e=this.updateInfo.FsuVerDic[this.curFileVersion.ID][this.curBusinessScene.ID][this.product.ID].Version;return this.common.compareVersion(this.info.FSUVersion,e)}},methods:{getStation:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.stationLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID},t.prev=2,t.next=5,e.axios.getStation(s);case 5:null!==(r=t.sent.data)&&1===r.Result?(e.info.Name=r.Name,e.info.FSUID=r.FSUID,e.info.Address=r.Address,e.info.Desc=r.Desc,e.$message({message:"获取基站信息成功",type:"success"})):e.$message({message:"获取基站信息失败",type:"error"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"获取基站信息异常",type:"error"});case 13:return t.prev=13,e.stationLoading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[2,9,13,16]])}))()},setStation:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.stationLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID,Name:e.info.Name,FSUID:e.info.FSUID,Address:e.info.Address,Desc:e.info.Desc,Username:e.$store.state.user.Username,Source:window.g.application},t.prev=2,t.next=5,e.axios.setStation(s);case 5:null!==(r=t.sent.data)&&1===r.Result?e.$message({message:"设置基站信息成功",type:"success"}):e.$message({message:"设置基站信息失败",type:"error"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"设置基站信息异常",type:"error"});case 13:return t.prev=13,e.stationLoading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[2,9,13,16]])}))()},getVersion:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.versionLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID},t.prev=2,t.next=5,e.axios.getVersion(s);case 5:null!==(r=t.sent.data)&&1===r.Result?(e.info.EngineVersion=r.EngineVersion,e.info.ProgramVersion=r.ProgramVersion,e.info.FSUVersion=r.FSUVersion,e.$message({message:"获取版本号成功",type:"success"})):e.$message({message:"获取版本号失败",type:"error"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"获取版本号异常",type:"error"});case 13:return t.prev=13,e.versionLoading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[2,9,13,16]])}))()},getStationStatus:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.stationStatusLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID},t.prev=2,t.next=5,e.axios.getStationStatus(s);case 5:null!==(r=t.sent.data)&&1===r.Result?(e.info.StationStatus.ID=r.StationStatus.ID,e.$message({message:"获取基站状态成功",type:"success"})):e.$message({message:"获取基站状态失败",type:"error"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"获取基站状态异常",type:"error"});case 13:return t.prev=13,e.stationStatusLoading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[2,9,13,16]])}))()},setStationStatus:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.stationStatusLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID,StationStatusID:e.info.StationStatus.ID,Username:e.$store.state.user.Username,Source:window.g.application},t.prev=2,t.next=5,e.axios.setStationStatus(s);case 5:null!==(r=t.sent.data)&&1===r.Result?e.$message({message:"设置基站状态成功",type:"success"}):e.$message({message:"设置基站状态失败",type:"error"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"设置基站状态异常",type:"error"});case 13:return t.prev=13,e.stationStatusLoading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[2,9,13,16]])}))()},setTime:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setTimeLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID,Username:e.$store.state.user.Username,Source:window.g.application},t.prev=2,t.next=5,e.axios.setTime(s);case 5:null!==(r=t.sent.data)&&1===r.Result?e.$message({message:"时间同步成功",type:"success"}):e.$message({message:"时间同步失败",type:"error"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"时间同步异常",type:"error"});case 13:return t.prev=13,e.setTimeLoading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[2,9,13,16]])}))()},reboot:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.rebootLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID,Username:e.$store.state.user.Username,Source:window.g.application},t.prev=2,t.next=5,e.axios.reboot(s);case 5:null!==(r=t.sent.data)&&1===r.Result?e.$message({message:"重启成功",type:"success"}):e.$message({message:"重启失败",type:"error"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"重启异常",type:"error"});case 13:return t.prev=13,e.rebootLoading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[2,9,13,16]])}))()},getWMInfo:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.wirelessModuleInfoLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID},t.prev=2,t.next=5,e.axios.getWMInfo(s);case 5:null!==(r=t.sent.data)&&1===r.Result?(e.info.WirelessNetWork.WirelessModule.Name=r.WirelessNetWork.WirelessModule.Name,e.info.WirelessNetWork.WirelessModule.Manufacturer=r.WirelessNetWork.WirelessModule.Manufacturer,e.info.WirelessNetWork.WirelessModule.Model=r.WirelessNetWork.WirelessModule.Model,e.info.WirelessNetWork.WirelessModule.IMEI=r.WirelessNetWork.WirelessModule.IMEI,e.info.WirelessNetWork.IMSI=r.WirelessNetWork.IMSI,e.info.WirelessNetWork.Carrier=e.carrierList.find(function(e){return e.ID===r.WirelessNetWork.Carrier.ID}),e.info.WirelessNetWork.NetWorkType=e.netWorkTypeList.find(function(e){return e.ID===r.WirelessNetWork.NetWorkType.ID}),e.info.WirelessNetWork.SignalStrength=r.WirelessNetWork.SignalStrength,e.$message({message:"获取网络信息成功",type:"success"})):e.$message({message:"获取网络信息失败",type:"error"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"获取网络信息异常",type:"error"});case 13:return t.prev=13,e.wirelessModuleInfoLoading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[2,9,13,16]])}))()}}},V={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"cardDiv"},[r("el-card",{staticClass:"card",attrs:{"body-style":{padding:"0px"},shadow:"always"}},[r("div",{staticClass:"cardHeader"},[r("span",[e._v("基站信息")])]),e._v(" "),r("div",{staticStyle:{padding:"20px"}},[r("el-form",{attrs:{"label-position":"right","label-width":"100px",size:"mini"}},[r("el-form-item",{staticClass:"formItem",attrs:{label:"基站名称："}},[r("el-input",{attrs:{size:"small"},model:{value:e.info.Name,callback:function(t){e.$set(e.info,"Name",t)},expression:"info.Name"}})],1),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"企业："}},[r("span",[e._v(e._s(e.info.Enterprise))])]),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"服务："}},[r("span",[e._v(e._s(e.info.Service))])]),e._v(" "),r("el-form-item",{attrs:{label:"经纬度："}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$refs.longtitudeAndLatitudeDialog.toModal(e.info)}}},[e._v("设置")])],1),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"IP："}},[r("span",[e._v(e._s(e.info.IP))])]),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"FSUID："}},[r("el-input",{attrs:{size:"small"},model:{value:e.info.FSUID,callback:function(t){e.$set(e.info,"FSUID",t)},expression:"info.FSUID"}})],1),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"出厂码："}},[r("span",[e._v(e._s(e.info.UniqueID))])]),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"入网时间："}},[r("span",[e._v(e._s(e.info.OnlineTime))])]),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"省市区："}},[r("span",[e._v(e._s(e.info.AddressName))])]),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"地区信息："}},[r("el-input",{attrs:{type:"textarea",autosize:"",size:"small"},model:{value:e.info.Address,callback:function(t){e.$set(e.info,"Address",t)},expression:"info.Address"}})],1),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"描述信息："}},[r("el-input",{attrs:{type:"textarea",autosize:"",size:"small"},model:{value:e.info.Desc,callback:function(t){e.$set(e.info,"Desc",t)},expression:"info.Desc"}})],1),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small",loading:e.stationLoading},on:{click:e.getStation}},[e._v("获取")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small",loading:e.stationLoading},on:{click:e.setStation}},[e._v("设置")])],1)],1)])],1),e._v(" "),r("div",{staticClass:"cardDiv"},[r("el-card",{staticClass:"card",attrs:{"body-style":{padding:"0px"},shadow:"always"}},[r("div",{staticClass:"cardHeader"},[r("span",[e._v("版本信息")])]),e._v(" "),r("div",{staticStyle:{padding:"20px"}},[r("el-form",{attrs:{"label-position":"right","label-width":"100px",size:"mini"}},[r("el-form-item",{staticClass:"formItem",attrs:{label:"引擎："}},[r("span",[e._v(e._s(e.info.EngineVersion))]),e._v(" "),e.engineUpdate?r("img",{staticStyle:{float:"right","margin-top":"4px"},attrs:{src:s("MzMZ")}}):r("img",{staticStyle:{float:"right","margin-top":"4px"},attrs:{src:s("9yMP")}})]),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"适配层："}},[r("span",[e._v(e._s(e.info.ProgramVersion))]),e._v(" "),e.programUpdate?r("img",{staticStyle:{float:"right","margin-top":"4px"},attrs:{src:s("MzMZ")}}):r("img",{staticStyle:{float:"right","margin-top":"4px"},attrs:{src:s("9yMP")}})]),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"SMonitor"}},[r("span",[e._v(e._s(e.info.FSUVersion))]),e._v(" "),e.fsuUpdate?r("img",{staticStyle:{float:"right","margin-top":"4px"},attrs:{src:s("MzMZ")}}):r("img",{staticStyle:{float:"right","margin-top":"4px"},attrs:{src:s("9yMP")}})]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small",loading:e.versionLoading},on:{click:e.getVersion}},[e._v("更新")])],1)],1)]),e._v(" "),r("el-card",{staticClass:"card",attrs:{"body-style":{padding:"0px"},shadow:"always"}},[r("div",{staticClass:"cardHeader"},[r("span",[e._v("FSU操作")])]),e._v(" "),r("div",{staticStyle:{padding:"20px"}},[r("el-form",{attrs:{"label-position":"right","label-width":"100px",size:"mini"}},[r("el-form-item",{staticClass:"formItem",attrs:{label:"基站状态："}},[r("el-select",{model:{value:e.info.StationStatus.ID,callback:function(t){e.$set(e.info.StationStatus,"ID",t)},expression:"info.StationStatus.ID"}},e._l(e.stationStatusList,function(e){return r("el-option",{key:e.ID,attrs:{label:e.Description,value:e.ID}})}))],1),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small",loading:e.stationStatusLoading},on:{click:e.getStationStatus}},[e._v("获取")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small",loading:e.stationStatusLoading},on:{click:e.setStationStatus}},[e._v("设置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small",loading:e.setTimeLoading},on:{click:e.setTime}},[e._v("时间同步")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small",loading:e.rebootLoading},on:{click:e.reboot}},[e._v("重启")])],1)],1)])],1),e._v(" "),r("div",{staticClass:"cardDiv"},[r("el-card",{staticClass:"card",attrs:{"body-style":{padding:"0px"},shadow:"always"}},[r("div",{staticClass:"cardHeader"},[r("span",[e._v("网络信息")])]),e._v(" "),r("div",{staticStyle:{padding:"20px"}},[r("el-form",{attrs:{"label-position":"right","label-width":"100px",size:"mini"}},[r("el-form-item",{staticClass:"formItem",attrs:{label:"模块名称："}},[r("span",[e._v(e._s(e.info.WirelessNetWork.WirelessModule.Name))])]),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"生产厂家："}},[r("span",[e._v(e._s(e.info.WirelessNetWork.WirelessModule.Manufacturer))])]),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"型号："}},[r("span",[e._v(e._s(e.info.WirelessNetWork.WirelessModule.Model))])]),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"IMEI："}},[r("span",[e._v(e._s(e.info.WirelessNetWork.WirelessModule.IMEI))])]),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"网络制式："}},[r("span",[e._v(e._s(e.info.WirelessNetWork.NetWorkType.Description))])]),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"运营商："}},[r("span",[e._v(e._s(e.info.WirelessNetWork.Carrier.Description))])]),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"IMSI："}},[r("span",[e._v(e._s(e.info.WirelessNetWork.IMSI))])]),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"信号强度："}},[r("span",[e._v(e._s(e.info.WirelessNetWork.SignalStrength))])]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small",loading:e.wirelessModuleInfoLoading},on:{click:e.getWMInfo}},[e._v("更新")])],1)],1)])],1),e._v(" "),r("longtitude-and-latitude-dialog",{ref:"longtitudeAndLatitudeDialog"})],1)},staticRenderFns:[]};var U={props:["info"],data:function(){return{curDeviceID:"",dataList:[],alarmParamList:[],aodoList:[],activeAlarmList:[],waitGetDeviceDescription:!1,dataLoading:!1,activeAlarmLoading:!1}},computed:{product:function(){var e=this;return this.$store.state.productList.find(function(t){return 0===e.info.UniqueID.indexOf(t.UniqueIDKey)})},deviceInfoXls:function(){return this.$store.state.deviceInfoXls[this.product.ID]},deviceNameDic:function(){return this.$store.state.deviceNameDic[this.product.ID]}},methods:{getDeviceDescription:function(){var e=this;return u()(l.a.mark(function t(){var s,r,a,i;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.waitGetDeviceDescription=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID},t.prev=2,t.next=5,e.axios.getDeviceDescription(s);case 5:if(null!==(r=t.sent.data)&&1===r.Result){for(e.info.DeviceDescriptionList=r.DeviceDescriptionList,a=function(t){for(var s in e.deviceNameDic){void 0!==e.deviceNameDic[s].find(function(s){return s.Code===e.info.DeviceDescriptionList[t].PortType})&&(e.info.DeviceDescriptionList[t].PortType=s)}""===e.info.DeviceDescriptionList[t].Name&&(e.info.DeviceDescriptionList[t].Name="请设置设备名称");var r=e.deviceInfoXls.find(function(s){return s.DeviceVer.substring(1,5)===e.info.DeviceDescriptionList[t].Version.substring(1,5)});void 0!==r&&(e.info.DeviceDescriptionList[t].DeviceName=r.DeviceType,e.info.DeviceDescriptionList[t].DeviceModel=r.DeviceModel)},i=0;i<e.info.DeviceDescriptionList.length;++i)a(i);e.$message({message:"获取设备列表成功",type:"success"})}else e.$message({message:"获取设备列表失败",type:"error"});t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"获取设备列表异常",type:"error"});case 13:return t.prev=13,e.waitGetDeviceDescription=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[2,9,13,16]])}))()},getData:function(e){var t=this;return u()(l.a.mark(function s(){var r,a,i;return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.curDeviceID=t.info.DeviceDescriptionList[e].ID,r={UniqueID:t.info.UniqueID,OMCID:t.info.OMCID,DeviceID:t.info.DeviceDescriptionList[e].ID},s.prev=2,t.dataLoading=!0,s.prev=4,s.next=7,t.axios.getData(r);case 7:null!==(a=s.sent.data)&&1===a.Result?(t.dataList=a.DataList.filter(function(e){return 2===e.Type||3===e.Type||6===e.Type||7===e.Type}),t.aodoList=a.DataList.filter(function(e){return 4===e.Type||5===e.Type}),t.$message({message:"获取数据信息成功",type:"success"})):t.$message({message:"获取数据失败",type:"error"}),s.next=15;break;case 11:s.prev=11,s.t0=s.catch(4),console.log(s.t0),t.$message({message:"获取数据异常",type:"error"});case 15:return s.prev=15,s.next=18,t.axios.getAlarmParam(r);case 18:null!==(i=s.sent.data)&&1===i.Result?(t.alarmParamList=i.AlarmParamList,t.$message({message:"获取门限值成功",type:"success"})):t.$message({message:"获取门限值失败",type:"error"}),s.next=26;break;case 22:s.prev=22,s.t1=s.catch(15),console.log(s.t1),t.$message({message:"获取门限值异常",type:"error"});case 26:return s.prev=26,t.dataLoading=!1,s.finish(26);case 29:case"end":return s.stop()}},s,t,[[2,,26,29],[4,11],[15,22]])}))()},getActiveAlarm:function(){var e=this;return u()(l.a.mark(function t(){var s,r,a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.activeAlarmLoading=!0,s={uniqueID:e.info.UniqueID,omcid:e.info.OMCID},t.prev=2,t.next=5,e.axios.getActiveAlarm(s);case 5:if(null!==(r=t.sent.data)&&1===r.Result){for(e.activeAlarmList=r.AlarmList,a=0;a<e.activeAlarmList.length;++a)1===e.activeAlarmList[a].AlarmFlag?e.activeAlarmList[a].AlarmFlag="BEGIN":e.activeAlarmList[a].AlarmFlag="END";e.$message({message:"获取告警信息成功",type:"success"})}else e.$message({message:"获取告警信息失败",type:"error"});t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),e.$message({message:"获取告警信息失败："+t.t0.message,type:"error"});case 12:return t.prev=12,e.activeAlarmLoading=!1,t.finish(12);case 15:case"end":return t.stop()}},t,e,[[2,9,12,15]])}))()},setData:function(e){var t=this;return u()(l.a.mark(function s(){var r,a;return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return r={UniqueID:t.info.UniqueID,OMCID:t.info.OMCID,DeviceID:t.curDeviceID,Data:e,Username:t.$store.state.user.Username,Source:window.g.application},s.prev=1,t.dataLoading=!0,s.next=5,t.axios.setData(r);case 5:null!==(a=s.sent.data)&&1===a.Result?t.$message({message:"设置遥控遥调点成功",type:"success"}):t.$message({message:"设置遥控遥调点失败",type:"error"}),s.next=13;break;case 9:s.prev=9,s.t0=s.catch(1),console.log(s.t0),t.$message({message:"设置遥控遥调点异常",type:"error"});case 13:return s.prev=13,t.dataLoading=!1,s.finish(13);case 16:case"end":return s.stop()}},s,t,[[1,9,13,16]])}))()},setAlarmParam:function(e){var t=this;return u()(l.a.mark(function s(){var r,a;return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return r={UniqueID:t.info.UniqueID,OMCID:t.info.OMCID,DeviceID:t.curDeviceID,AlarmParam:e,Username:t.$store.state.user.Username,Source:window.g.application},s.prev=1,t.dataLoading=!0,s.next=5,t.axios.setAlarmParam(r);case 5:null!==(a=s.sent.data)&&1===a.Result?t.$message({message:"设置门限值成功",type:"success"}):t.$message({message:"设置门限值点失败",type:"error"}),s.next=13;break;case 9:s.prev=9,s.t0=s.catch(1),console.log(s.t0),t.$message({message:"设置门限值异常",type:"error"});case 13:return s.prev=13,t.dataLoading=!1,s.finish(13);case 16:case"end":return s.stop()}},s,t,[[1,9,13,16]])}))()}}},M={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-tabs",{staticStyle:{"margin-right":"20px","margin-bottom":"10px"},attrs:{type:"border-card"}},[s("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],attrs:{label:"实时监控"}},[s("div",[s("el-button",{attrs:{type:"primary",size:"small",loading:e.waitGetDeviceDescription},on:{click:e.getDeviceDescription}},[e._v("获取设备列表")])],1),e._v(" "),s("el-container",{staticStyle:{"margin-top":"10px","border-top":"1px solid #CACACA",height:"550px"}},[s("el-aside",{staticStyle:{height:"100%","border-right":"1px solid #CACACA"},attrs:{width:"200px"}},[s("el-menu",{staticStyle:{"border-right":"0px solid #CACACA","font-size":"12px"},attrs:{collapse:!1},on:{select:e.getData}},e._l(e.info.DeviceDescriptionList,function(t,r){return s("el-menu-item",{key:r,staticClass:"menuItem",attrs:{index:r.toString()}},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.Name))])])}))],1),e._v(" "),s("el-main",{staticStyle:{padding:"0px",height:"100%"}},[s("el-tabs",[s("el-tab-pane",{attrs:{label:"实时监控数据"}},[s("el-table",{staticClass:"table",attrs:{data:e.dataList,"header-cell-style":{background:"#3E4D5C",color:"#FFFFFF"}}},[s("el-table-column",{attrs:{label:"名称",prop:"Name"}}),e._v(" "),s("el-table-column",{attrs:{label:"ID",prop:"ID"}}),e._v(" "),s("el-table-column",{attrs:{label:"类型",prop:"Type"}}),e._v(" "),s("el-table-column",{attrs:{label:"值",prop:"Value"}}),e._v(" "),s("el-table-column",{attrs:{label:"采集时间",prop:"Time"}}),e._v(" "),s("el-table-column",{attrs:{label:"状态",prop:"Status"}}),e._v(" "),s("el-table-column",{attrs:{label:"单位",prop:"Unit"}})],1)],1),e._v(" "),s("el-tab-pane",{attrs:{label:"门限数据"}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],staticClass:"table",attrs:{data:e.alarmParamList,"header-cell-style":{background:"#3E4D5C",color:"#FFFFFF"}}},[s("el-table-column",{attrs:{label:"名称",prop:"Name"}}),e._v(" "),s("el-table-column",{attrs:{label:"ID",prop:"ID"}}),e._v(" "),s("el-table-column",{attrs:{label:"类型",prop:"Type"}}),e._v(" "),s("el-table-column",{attrs:{label:"值"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{size:"mini"},model:{value:t.row.Threshold,callback:function(s){e.$set(t.row,"Threshold",s)},expression:"scope.row.Threshold"}})]}}])}),e._v(" "),s("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){e.setAlarmParam(t.row)}}},[e._v("设置")])]}}])})],1)],1),e._v(" "),s("el-tab-pane",{attrs:{label:"遥控遥调点"}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],staticClass:"table",attrs:{data:e.aodoList,"header-cell-style":{background:"#3E4D5C",color:"#FFFFFF"}}},[s("el-table-column",{attrs:{label:"名称",prop:"Name"}}),e._v(" "),s("el-table-column",{attrs:{label:"ID",prop:"ID"}}),e._v(" "),s("el-table-column",{attrs:{label:"类型",prop:"Type"}}),e._v(" "),s("el-table-column",{attrs:{label:"值"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{size:"mini"},model:{value:t.row.Value,callback:function(s){e.$set(t.row,"Value",s)},expression:"scope.row.Value"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"采集时间",prop:"Time"}}),e._v(" "),s("el-table-column",{attrs:{label:"状态",prop:"Status"}}),e._v(" "),s("el-table-column",{attrs:{label:"单位",prop:"Unit"}}),e._v(" "),s("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){e.setData(t.row)}}},[e._v("设置")])]}}])})],1)],1)],1)],1)],1)],1),e._v(" "),s("el-tab-pane",{attrs:{label:"告警信息"}},[s("div",[s("el-button",{attrs:{type:"warning",size:"small",loading:e.activeAlarmLoading},on:{click:e.getActiveAlarm}},[e._v("获取告警信息")])],1),e._v(" "),s("el-table",{staticClass:"table",attrs:{data:e.activeAlarmList,"header-cell-style":{background:"#3E4D5C",color:"#FFFFFF"}}},[s("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticStyle:{margin:"5px 0 0 10px"}},[s("span",[e._v("触发值：")]),e._v(" "),s("span",[e._v(e._s(t.row.EventValue))])]),e._v(" "),s("div",{staticStyle:{margin:"5px 0 0 10px"}},[s("span",[e._v("上报情况：")]),e._v(" "),s("span",[e._v(e._s(t.row.Reported))])]),e._v(" "),s("div",{staticStyle:{margin:"5px 0 0 10px"}},[s("span",[e._v("最后上报时间：")]),e._v(" "),s("span",[e._v(e._s(t.row.LastReportTime))])])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"序列号",prop:"SerialNo",width:"80px"}}),e._v(" "),s("el-table-column",{attrs:{label:"设备名称",prop:"DeviceName",width:"160px"}}),e._v(" "),s("el-table-column",{attrs:{label:"设备ID",prop:"DeviceID",width:"140px"}}),e._v(" "),s("el-table-column",{attrs:{label:"信号点名称",prop:"SignalName"}}),e._v(" "),s("el-table-column",{attrs:{label:"信号点ID",prop:"SignalID",width:"110px"}}),e._v(" "),s("el-table-column",{attrs:{label:"时间",prop:"AlarmTime",width:"160px"}}),e._v(" "),s("el-table-column",{attrs:{label:"等级",prop:"Level",width:"50px"}}),e._v(" "),s("el-table-column",{attrs:{label:"描述",prop:"AlarmDesc"}}),e._v(" "),s("el-table-column",{attrs:{label:"标识",prop:"AlarmFlag"}})],1)],1)],1)},staticRenderFns:[]};var P={props:["info"],data:function(){return{camera:null,photoTypeList:[{label:"移动侦测",value:"CAMERA"},{label:"主动抓拍",value:"PIC"}],photoType:"",photoList:[],photoName:"",imgPath:"",imgVisible:!1,cameraLoading:!1,photoLoading:!1}},methods:{getCamera:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.cameraLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID},t.prev=2,t.next=5,e.axios.getCamera(s);case 5:null!==(r=t.sent.data)&&1===r.Result?(e.info.CameraList=r.CameraList,e.handleCameraInfo(e.info.CameraList),e.$message({message:"获取摄像头列表成功",type:"success"})):e.$message({message:"获取摄像头列表失败",type:"error"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"获取摄像头列表异常",type:"error"});case 13:return t.prev=13,e.cameraLoading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[2,9,13,16]])}))()},handleCameraInfo:function(e){for(var t=0;t<e.length;++t)e[t].Online=e[t].Online?"在线":"离线",e[t].SDStatus=e[t].SDStatus?"正常":"异常",e[t].DefaultConfig=e[t].DefaultConfig?"是":"否"},openCameraPage:function(e){try{window.open("http://"+this.info.IP+":8088")}catch(e){console.log(e),this.$message({message:"打开监控异常",type:"error"})}},getPhotoList:function(){var e=this;return u()(l.a.mark(function t(){var s,r,a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.photoType){t.next=3;break}return e.$message({message:"请选择照片类型",type:"error"}),t.abrupt("return");case 3:return e.photoLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID,PhotoType:e.photoType},t.prev=5,t.next=8,e.axios.getPhotoList(s);case 8:if(1!==(r=t.sent.data).Result){t.next=22;break}e.photoList=[],a=0;case 12:if(!(a<r.PhotoList.length)){t.next=19;break}if(""!==r.PhotoList[a]){t.next=15;break}return t.abrupt("continue",16);case 15:e.photoList.push({type:e.photoType,name:r.PhotoList[a]});case 16:++a,t.next=12;break;case 19:e.$message({message:"获取照片列表成功",type:"success"}),t.next=23;break;case 22:e.$message({message:"获取照片列表失败",type:"error"});case 23:t.next=29;break;case 25:t.prev=25,t.t0=t.catch(5),console.log(t.t0),e.$message({message:"获取照片列表异常",type:"error"});case 29:return t.prev=29,e.photoLoading=!1,t.finish(29);case 32:case"end":return t.stop()}},t,e,[[5,25,29,32]])}))()},getPhoto:function(e){var t=this;return u()(l.a.mark(function s(){var r;return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return r={UniqueID:t.info.UniqueID,OMCID:t.info.OMCID,PhotoType:e.type,Name:e.name},s.prev=1,t.photoLoading=!0,s.next=5,t.axios.getPhoto(r);case 5:1===s.sent.data.Result?(t.$message({message:"获取照片成功",type:"success"}),t.$refs.img.style.height=.88*t.$refs.content.offsetHeight+"px",t.photoName=e.name,t.imgPath=t.axios.genericPhoto+"/"+t.info.UniqueID+"/Camera/"+e.type+"/"+e.name,t.imgVisible=!0):t.$message({message:"获取照片失败",type:"error"}),s.next=13;break;case 9:s.prev=9,s.t0=s.catch(1),console.log(s.t0),t.$message({message:"获取照片异常",type:"error"});case 13:return s.prev=13,t.photoLoading=!1,s.finish(13);case 16:case"end":return s.stop()}},s,t,[[1,9,13,16]])}))()}}},N={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"content"},[s("el-popover",{attrs:{title:e.photoName,placement:"right",trigger:"click"},model:{value:e.imgVisible,callback:function(t){e.imgVisible=t},expression:"imgVisible"}},[s("div",[s("img",{ref:"img",attrs:{src:e.imgPath}})]),e._v(" "),s("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:function(t){e.imgVisible=!1}}},[e._v("确定")])],1),e._v(" "),s("div",[s("el-button",{attrs:{type:"primary",size:"small",loading:e.cameraLoading},on:{click:e.getCamera}},[e._v("获取摄像头列表")]),e._v(" "),s("el-table",{staticClass:"table",attrs:{data:e.info.CameraList,"header-cell-style":{background:"#3E4D5C",color:"#FFFFFF"}}},[s("el-table-column",{attrs:{label:"名称",prop:"Name"}}),e._v(" "),s("el-table-column",{attrs:{label:"生产厂家",prop:"Productor"}}),e._v(" "),s("el-table-column",{attrs:{label:"型号",prop:"Model"}}),e._v(" "),s("el-table-column",{attrs:{label:"序列号",prop:"SerialNo","min-width":"90px"}}),e._v(" "),s("el-table-column",{attrs:{label:"IP",prop:"IP"}}),e._v(" "),s("el-table-column",{attrs:{label:"端口",prop:"Port"}}),e._v(" "),s("el-table-column",{attrs:{label:"在线状态",prop:"Online"}}),e._v(" "),s("el-table-column",{attrs:{label:"摄像头SD卡状态",prop:"SDStatus"}}),e._v(" "),s("el-table-column",{attrs:{label:"初始化时间",prop:"InitTime","min-width":"90px"}}),e._v(" "),s("el-table-column",{attrs:{label:"是否为默认配置",prop:"DefaultConfig"}}),e._v(" "),s("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){e.openCameraPage(t.row)}}},[e._v("打开监控")])]}}])})],1)],1),e._v(" "),s("div",{staticStyle:{"margin-top":"10px"}},[s("span",{staticStyle:{"font-size":"14px"}},[e._v("照片类型：")]),e._v(" "),s("el-select",{attrs:{size:"mini"},model:{value:e.photoType,callback:function(t){e.photoType=t},expression:"photoType"}},e._l(e.photoTypeList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),s("el-button",{attrs:{type:"primary",size:"mini",loading:e.photoLoading},on:{click:e.getPhotoList}},[e._v("获取照片列表")]),e._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.photoLoading,expression:"photoLoading"}],staticClass:"table",attrs:{data:e.photoList,height:"450px","header-cell-style":{background:"#3E4D5C",color:"#FFFFFF"}}},[s("el-table-column",{attrs:{label:"照片类型",prop:"type",width:"80px"}}),e._v(" "),s("el-table-column",{attrs:{label:"照片名称",prop:"name",width:"450px"}}),e._v(" "),s("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){e.getPhoto(t.row)}}},[e._v("查看")])]}}])})],1)],1)],1)},staticRenderFns:[]};var T={props:["info"],data:function(){return{collector:-1,smonitor:-1,deviceInfo:[],deviceDescriptionLoading:!1,deleteDescriptionLoading:!1,deviceStatusLoading:!1}},computed:{product:function(){var e=this;return this.$store.state.productList.find(function(t){return 0===e.info.UniqueID.indexOf(t.UniqueIDKey)})},deviceInfoXls:function(){return void 0===this.product?[]:this.$store.state.deviceInfoXls[this.product.ID]},deviceNameDic:function(){return void 0===this.product?[]:this.$store.state.deviceNameDic[this.product.ID]}},methods:{getDeviceDescription:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.deviceDescriptionLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID},t.prev=2,t.next=5,e.axios.getDeviceDescription(s);case 5:null!==(r=t.sent.data)&&1===r.Result?(e.handlerDeviceDescription(r.DeviceDescriptionList),e.$message({message:"获取设备ID信息成功",type:"success"})):e.$message({message:"获取设备ID信息失败",type:"error"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"获取设备ID信息异常",type:"error"});case 13:return t.prev=13,e.deviceDescriptionLoading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[2,9,13,16]])}))()},handlerDeviceDescription:function(e){var t=this;this.info.DeviceDescriptionList=e,this.deviceInfo=new Array(0);for(var s=function(e){for(var s in t.deviceNameDic){void 0!==t.deviceNameDic[s].find(function(s){return s.Code===t.info.DeviceDescriptionList[e].PortType})&&(t.info.DeviceDescriptionList[e].PortType=s)}""===t.info.DeviceDescriptionList[e].Name&&(t.info.DeviceDescriptionList[e].Name="请设置设备名称");var r=t.deviceInfoXls.find(function(s){return s.DeviceVer.substring(1,5)===t.info.DeviceDescriptionList[e].Version.substring(1,5)});void 0!==r&&(t.info.DeviceDescriptionList[e].DeviceName=r.DeviceType,t.info.DeviceDescriptionList[e].DeviceModel=r.DeviceModel),""!==t.info.DeviceDescriptionList[e].Version&&t.deviceInfo.push({PortType:t.info.DeviceDescriptionList[e].PortType,PortInfo:t.info.DeviceDescriptionList[e].PortInfo,DeviceName:t.info.DeviceDescriptionList[e].DeviceName,DeviceModel:t.info.DeviceDescriptionList[e].DeviceModel,Version:t.info.DeviceDescriptionList[e].Version,Address:t.info.DeviceDescriptionList[e].Address,ResNo:t.info.DeviceDescriptionList[e].ResNo})},r=0;r<this.info.DeviceDescriptionList.length;++r)s(r)},getDeviceStatus:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.deviceStatusLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID},t.prev=2,t.next=5,e.axios.getDeviceStatus(s);case 5:null!==(r=t.sent.data)&&1===r.Result?(e.collector=r.Collector,e.smonitor=r.Smonitor,e.$message({message:"获取设备运行状态成功",type:"success"})):e.$message({message:"获取设备运行状态失败",type:"error"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"获取设备运行状态异常",type:"error"});case 13:return t.prev=13,e.deviceStatusLoading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[2,9,13,16]])}))()},setDeviceDescription:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.deviceDescriptionLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID,DeviceDescriptionList:e.info.DeviceDescriptionList,Username:e.$store.state.user.Username,Source:window.g.application},t.prev=2,t.next=5,e.axios.setDeviceDescription(s);case 5:null!==(r=t.sent.data)&&1===r.Result?e.$message({message:"设置设备ID信息成功",type:"success"}):e.$message({message:"设置设备ID信息失败",type:"error"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"设置设备ID信息异常",type:"error"});case 13:return t.prev=13,e.deviceDescriptionLoading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[2,9,13,16]])}))()},delDeviceDescription:function(e){var t=this;return u()(l.a.mark(function s(){var r,a;return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.deleteDescriptionLoading=!0,r={UniqueID:t.info.UniqueID,OMCID:t.info.OMCID,Device:e,Username:t.$store.state.user.Username,Source:window.g.application},s.prev=2,s.next=5,t.axios.delDeviceDescription(r);case 5:null!==(a=s.sent.data)&&1===a.Result?t.$message({message:"删除设备成功",type:"success"}):t.$message({message:"删除设备失败",type:"error"}),s.next=13;break;case 9:s.prev=9,s.t0=s.catch(2),console.log(s.t0),t.$message({message:"删除设备异常",type:"error"});case 13:return s.prev=13,t.deleteDescriptionLoading=!1,s.finish(13);case 16:case"end":return s.stop()}},s,t,[[2,9,13,16]])}))()}}},$={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.deleteDescriptionLoading,expression:"deleteDescriptionLoading"}]},[s("div",[s("el-button",{attrs:{type:"primary",size:"small",loading:e.deviceDescriptionLoading},on:{click:e.getDeviceDescription}},[e._v("获取设备ID信息")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small",loading:e.deviceStatusLoading},on:{click:e.getDeviceStatus}},[e._v("获取设备运行状态")]),e._v(" "),s("span",{staticStyle:{"font-size":"14px"}},[e._v("采集板状态：")]),e._v(" "),1===e.collector?s("el-tag",{attrs:{type:"success",size:"small"}},[e._v("正常")]):0===e.collector?s("el-tag",{attrs:{type:"danger",size:"small"}},[e._v("异常")]):s("el-tag",{attrs:{type:"info",size:"small"}},[e._v("未知")]),e._v(" "),s("span",{staticStyle:{"font-size":"14px"}},[e._v("通讯板状态：")]),e._v(" "),1===e.smonitor?s("el-tag",{attrs:{type:"success",size:"small"}},[e._v("正常")]):0===e.smonitor?s("el-tag",{attrs:{type:"danger",size:"small"}},[e._v("异常")]):s("el-tag",{attrs:{type:"info",size:"small"}},[e._v("未知")])],1),e._v(" "),s("el-table",{staticClass:"table",attrs:{data:e.info.DeviceDescriptionList,"header-cell-style":{background:"#3E4D5C",color:"#FFFFFF"}}},[s("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticStyle:{margin:"5px 0 0 10px"}},[s("span",[e._v("额定功率：")]),e._v(" "),s("span",[e._v(e._s(t.row.RatedCapacity))])]),e._v(" "),s("div",{staticStyle:{margin:"5px 0 0 10px"}},[s("span",[e._v("开始运行时间：")]),e._v(" "),s("span",[e._v(e._s(t.row.BeginRunTime))])]),e._v(" "),s("div",{staticStyle:{margin:"5px 0 0 10px"}},[s("span",[e._v("详细信息：")]),e._v(" "),s("span",[e._v(e._s(t.row.Desc))])]),e._v(" "),s("div",{staticStyle:{margin:"5px 0 0 10px"}},[s("span",[e._v("出厂码：")]),e._v(" "),s("span",[e._v(e._s(t.row.SerialNo))])]),e._v(" "),s("div",{staticStyle:{margin:"5px 0 0 10px"}},[s("span",[e._v("质保期：")]),e._v(" "),s("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:t.row.GuaranteePeriod,callback:function(s){e.$set(t.row,"GuaranteePeriod",s)},expression:"props.row.GuaranteePeriod"}})],1)]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{size:"mini"},model:{value:t.row.Name,callback:function(s){e.$set(t.row,"Name",s)},expression:"scope.row.Name"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"设备ID","min-width":"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{size:"mini"},model:{value:t.row.ID,callback:function(s){e.$set(t.row,"ID",s)},expression:"scope.row.ID"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"资源编号",prop:"ResNo"}}),e._v(" "),s("el-table-column",{attrs:{label:"类型",prop:"Type"}}),e._v(" "),s("el-table-column",{attrs:{label:"型号",prop:"Model"}}),e._v(" "),s("el-table-column",{attrs:{label:"品牌",prop:"Brand"}}),e._v(" "),s("el-table-column",{attrs:{label:"版本号",prop:"DeviceVersion"}}),e._v(" "),s("el-table-column",{attrs:{label:"通信状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.Status?s("el-tag",{attrs:{type:"success",size:"small"}},[e._v("正常")]):!1===t.row.Status?s("el-tag",{attrs:{type:"danger",size:"small"}},[e._v("异常")]):s("el-tag",{attrs:{type:"info",size:"small"}},[e._v("未知")])]}}])}),e._v(" "),s("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[38!==t.row.Type?s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){e.delDeviceDescription(t.row)}}},[e._v("刪除")]):e._e()]}}])})],1),e._v(" "),s("div",{staticStyle:{"margin-top":"10px"}},[s("el-button",{attrs:{type:"primary",size:"small",loading:e.deviceDescriptionLoading},on:{click:e.setDeviceDescription}},[e._v("设置设备ID信息")])],1),e._v(" "),s("el-table",{staticClass:"table",attrs:{data:e.deviceInfo,"header-cell-style":{background:"#3E4D5C",color:"#FFFFFF"}}},[s("el-table-column",{attrs:{label:"端口类型",prop:"PortType"}}),e._v(" "),s("el-table-column",{attrs:{label:"端口信息",prop:"PortInfo"}}),e._v(" "),s("el-table-column",{attrs:{label:"设备类型",prop:"DeviceName"}}),e._v(" "),s("el-table-column",{attrs:{label:"设备型号",prop:"DeviceModel"}}),e._v(" "),s("el-table-column",{attrs:{label:"协议版本号",prop:"Version"}}),e._v(" "),s("el-table-column",{attrs:{label:"地址",prop:"Address"}}),e._v(" "),s("el-table-column",{attrs:{label:"资源编号",prop:"ResNo"}})],1)],1)},staticRenderFns:[]};var O={props:["info"],data:function(){return{serverGroupID:null,vpnList:[],serverGroupLoading:!1,spareServerGroupID:null,spareServerGroupLoading:!1}},computed:{serverGroupList:function(){return this.$store.state.serverGroupList},serverGroup:function(){var e=this;return null!==this.serverGroupID?this.serverGroupList.find(function(t){return t.ID===e.serverGroupID}):{LoginServerIP:""}},spareServerGroup:function(){var e=this;return null!==this.spareServerGroupID?this.serverGroupList.find(function(t){return t.ID===e.spareServerGroupID}):{LoginServerIP:""}}},methods:{getServerGroup:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.serverGroupLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID},t.prev=2,t.next=5,e.axios.getServerGroup(s);case 5:null!==(r=t.sent.data)&&1===r.Result?(r.ServerGroupID<1&&e.$message({message:"未配置服务器组",type:"success"}),e.serverGroupID=r.ServerGroupID,e.$message({message:"获取服务器组成功",type:"success"})):e.$message({message:"获取服务器组失败",type:"error"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"获取服务器组异常",type:"error"});case 13:return t.prev=13,e.serverGroupLoading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[2,9,13,16]])}))()},setServerGroup:function(){var e=this;return u()(l.a.mark(function t(){var s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.serverGroupID){t.next=3;break}return e.$message({message:"请选择服务器组",type:"error"}),t.abrupt("return");case 3:return e.serverGroupLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID,ServerGroup:e.serverGroup,Username:e.$store.state.user.Username,Source:window.g.application},t.prev=5,t.next=8,e.axios.setServerGroup(s);case 8:1===t.sent.data.Result?e.$message({message:"设置服务器组成功",type:"success"}):e.$message({message:"设置服务器组失败",type:"error"}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),console.log(t.t0),e.$message({message:"设置服务器组异常",type:"error"});case 16:return t.prev=16,e.serverGroupLoading=!1,t.finish(16);case 19:case"end":return t.stop()}},t,e,[[5,12,16,19]])}))()},getSpareServerGroup:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.spareServerGroupLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID},t.prev=2,t.next=5,e.axios.getSpareServerGroup(s);case 5:null!==(r=t.sent.data)&&1===r.Result?(r.ServerGroupID<1&&e.$message({message:"未配置备用服务器组",type:"success"}),e.spareServerGroupID=r.ServerGroupID,e.$message({message:"获取备用服务器组成功",type:"success"})):e.$message({message:"获取备用服务器组失败",type:"error"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"获取备用服务器组异常",type:"error"});case 13:return t.prev=13,e.spareServerGroupLoading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[2,9,13,16]])}))()},setSpareServerGroup:function(){var e=this;return u()(l.a.mark(function t(){var s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.spareServerGroupID){t.next=3;break}return e.$message({message:"请选择备用服务器组",type:"error"}),t.abrupt("return");case 3:return e.spareServerGroupLoading=!0,s={UniqueID:e.info.UniqueID,OMCID:e.info.OMCID,ServerGroup:e.spareServerGroup,Username:e.$store.state.user.Username,Source:window.g.application},t.prev=5,t.next=8,e.axios.setSpareServerGroup(s);case 8:1===t.sent.data.Result?e.$message({message:"设置备用服务器组成功",type:"success"}):e.$message({message:"设置备用服务器组失败",type:"error"}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),console.log(t.t0),e.$message({message:"设置备用服务器组异常",type:"error"});case 16:return t.prev=16,e.spareServerGroupLoading=!1,t.finish(16);case 19:case"end":return t.stop()}},t,e,[[5,12,16,19]])}))()}}},R={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticStyle:{width:"400px",float:"left"}},[s("el-form",{attrs:{"label-position":"right","label-width":"100px",size:"mini"}},[s("el-form-item",{staticClass:"formItem",attrs:{label:"服务器组："}},[s("el-select",{model:{value:e.serverGroupID,callback:function(t){e.serverGroupID=t},expression:"serverGroupID"}},e._l(e.serverGroupList,function(e){return s("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"注册机IP："}},[s("span",[e._v(e._s(e.serverGroup.LoginServerIP))])]),e._v(" "),s("el-form-item",{attrs:{label:"注册机端口："}},[s("span",[e._v(e._s(e.serverGroup.LoginServerPort))])]),e._v(" "),s("el-form-item",{attrs:{label:"OMCIP："}},[s("span",[e._v(e._s(e.serverGroup.OMCIP))])]),e._v(" "),s("el-form-item",{attrs:{label:"OMC端口："}},[s("span",[e._v(e._s(e.serverGroup.OMCPort))])]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small",loading:e.serverGroupLoading},on:{click:e.getServerGroup}},[e._v("获取网络配置")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small",loading:e.serverGroupLoading},on:{click:e.setServerGroup}},[e._v("设置网络配置")])],1)],1),e._v(" "),s("div",{staticStyle:{float:"left"}},[s("el-table",{staticClass:"table",attrs:{data:e.serverGroup.ServerGroupVPNList,"header-cell-style":{background:"#3E4D5C",color:"#FFFFFF"}}},[s("el-table-column",{attrs:{label:"编号",prop:"No"}}),e._v(" "),s("el-table-column",{attrs:{label:"移动",prop:"CM_IP","min-width":"130px"}}),e._v(" "),s("el-table-column",{attrs:{label:"联通",prop:"CU_IP","min-width":"130px"}}),e._v(" "),s("el-table-column",{attrs:{label:"电信",prop:"CT_IP","min-width":"130px"}}),e._v(" "),s("el-table-column",{attrs:{label:"预留",prop:"RESV_IP","min-width":"130px"}}),e._v(" "),s("el-table-column",{attrs:{label:"优先级",prop:"PRI"}})],1)],1)])},staticRenderFns:[]};var E={props:["info"],data:function(){return{logInfo:[],loading:!1}},methods:{getLogList:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,s={UniqueID:e.info.UniqueID},t.prev=2,t.next=5,e.axios.getLogList(s);case 5:null!==(r=t.sent.data)&&1===r.Result?(e.logInfo=r.LogList,e.$message({message:"获取操作日志成功",type:"success"})):e.$message({message:"获取操作日志失败",type:"error"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"获取操作日志异常",type:"error"});case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,e,[[2,9,13,16]])}))()}}},B={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[s("div",[s("el-button",{attrs:{type:"primary",size:"small",loading:e.loading},on:{click:e.getLogList}},[e._v("获取操作日志")])],1),e._v(" "),s("el-table",{staticClass:"table",attrs:{data:e.logInfo,"header-cell-style":{background:"#3E4D5C",color:"#FFFFFF"}}},[s("el-table-column",{attrs:{label:"操作类型",prop:"Operator",width:"130px"}}),e._v(" "),s("el-table-column",{attrs:{label:"详情",prop:"Detail"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作用户",prop:"User",width:"130px"}}),e._v(" "),s("el-table-column",{attrs:{label:"时间",prop:"DateTime",width:"170px"}})],1)],1)},staticRenderFns:[]};var G={components:{"v-basic-info":s("VU/8")(F,V,!1,function(e){s("8ufu")},"data-v-8372ba18",null).exports,"v-performance-monitoring":s("VU/8")(U,M,!1,function(e){s("KBDd")},"data-v-23bd80d3",null).exports,"v-camera-config":s("VU/8")(P,N,!1,function(e){s("wr34")},"data-v-0d3cc58d",null).exports,"v-device-config":s("VU/8")(T,$,!1,function(e){s("LyjS")},"data-v-9c7c8ce4",null).exports,"v-net-config":s("VU/8")(O,R,!1,function(e){s("3J1e")},"data-v-016b94ae",null).exports,"v-log":s("VU/8")(E,B,!1,function(e){s("WqiT")},"data-v-4842167a",null).exports},props:["uniqueID"],data:function(){return{info:{UniqueID:this.uniqueID,StationStatus:{},WirelessNetWork:{WirelessModule:{},NetWorkType:{},Carrier:{}},CameraList:[]}}},created:function(){var e=this;return u()(l.a.mark(function t(){var s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={uniqueID:e.uniqueID},t.prev=1,t.next=4,e.axios.getStationDetail(s);case 4:e.info=t.sent.data,e.$refs.deviceConfig.handlerDeviceDescription(e.info.DeviceDescriptionList),e.$refs.cameraConfig.handleCameraInfo(e.info.CameraList),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),e.$message({message:"获取基站详情异常",type:"error"});case 13:case"end":return t.stop()}},t,e,[[1,9]])}))()}},W={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-tabs",{staticStyle:{"margin-right":"20px","margin-bottom":"10px","min-height":"750px","background-color":"#f5f7fa"},attrs:{type:"border-card"}},[s("el-tab-pane",{attrs:{label:"基本信息"}},[s("v-basic-info",{attrs:{info:e.info}})],1),e._v(" "),s("el-tab-pane",{attrs:{label:"性能监控"}},[s("v-performance-monitoring",{attrs:{info:e.info}})],1),e._v(" "),s("el-tab-pane",{attrs:{label:"摄像头"}},[s("v-camera-config",{ref:"cameraConfig",attrs:{info:e.info}})],1),e._v(" "),s("el-tab-pane",{attrs:{label:"设备配置"}},[s("v-device-config",{ref:"deviceConfig",attrs:{info:e.info}})],1),e._v(" "),s("el-tab-pane",{attrs:{label:"网络设置"}},[s("v-net-config",{attrs:{info:e.info}})],1),e._v(" "),s("el-tab-pane",{attrs:{label:"操作日志"}},[s("v-log",{attrs:{info:e.info}})],1)],1)},staticRenderFns:[]};var z=s("VU/8")(G,W,!1,function(e){s("OtNi")},"data-v-4223db79",null).exports,q=s("pFYg"),Y=s.n(q),Q={name:"ProgramTable",props:["uniqueID"],data:function(){return{compilerTableConfig:{COM:{typeIndex:1,num:4,maxNum:32,portList:[],hasPort:!0,sharePort:!0,hasAddress:!0},AI:{typeIndex:2,num:4,maxNum:64,portList:[],hasPort:!0,sharePort:!1,hasAddress:!1},DI:{typeIndex:3,num:4,maxNum:64,portList:[],hasPort:!0,sharePort:!1,hasAddress:!1},DO:{typeIndex:4,num:4,maxNum:64,portList:[],hasPort:!0,sharePort:!1,hasAddress:!1},BAT:{typeIndex:5,num:2,maxNum:2,portList:[],hasPort:!0,sharePort:!1,hasAddress:!1},CAN:{typeIndex:6,num:5,maxNum:32,portList:[],hasPort:!1,sharePort:!1,hasAddress:!0}},product:"",config:{product:void 0,name:"",attachPort:0},table:[],compilerButton:!1,deviceInfo:{}}},created:function(){for(var e in this.$store.state.productList)if(0===this.uniqueID.indexOf(this.$store.state.productList[e].UniqueIDKey))return this.product=this.$store.state.productList[e],this.config.product=this.product.ID,this.deviceInfo=this.$store.state.deviceInfo[this.product.ID],void this.initTable();this.$message({message:"未知的产品类型",type:"error"})},computed:{user:function(){return this.$store.state.user.Username},curFileVersion:function(){return this.$store.state.curFileVersion},curBusinessScene:function(){return this.$store.state.curBusinessScene}},methods:{initTable:function(){if(this.table=[],void 0!==this.deviceInfo)for(var e in this.compilerTableConfig){this.compilerTableConfig[e].portList=[{value:"",disabled:!1}];for(var t=1;t<=this.compilerTableConfig[e].maxNum;++t)this.compilerTableConfig[e].portList.push({value:t,disabled:!1});for(var s=0;s<this.compilerTableConfig[e].num;++s)this.table.push(this.newTableRow(e))}},newTableRow:function(e){return{name:e,port:"",portMax:this.compilerTableConfig[e].maxNum,deviceType:"",modelIndex:null,deviceTypeList:this.deviceInfo[e],deviceModelList:[],hasAddress:this.compilerTableConfig[e].hasAddress,hasPort:this.compilerTableConfig[e].hasPort,address:null,addressMax:8,serialNo:"",attachPortValue:[],attachPortList:[]}},tableIndexStart:function(e){var t=0;for(var s in this.compilerTableConfig){if(e===s)return t;t+=this.compilerTableConfig[s].num}return t},changePortNum:function(e){var t=this.tableIndexStart(e),s=this.table.filter(function(t){return t.name===e}).length;if(void 0===t)for(var r=0;r<this.compilerTableConfig[e].num;++r)this.table.splice(r,0,this.newTableRow(e));else if(s>this.compilerTableConfig[e].num)this.table.splice(t+this.compilerTableConfig[e].num,s-this.compilerTableConfig[e].num);else for(var a=0;a<this.compilerTableConfig[e].num-s;++a)this.table.splice(t+s+a,0,this.newTableRow(e))},selectPort:function(e){if(!this.compilerTableConfig[e].sharePort){for(var t=0;t<this.compilerTableConfig[e].portList.length;++t)this.compilerTableConfig[e].portList[t].disabled=!1;for(var s=this.tableIndexStart(e),r=this.table.filter(function(t){return t.name===e}).length,a=0;a<r;++a){var i=this.table[a+s].port;""!==i&&(this.compilerTableConfig[e].portList[i].disabled=!0)}}for(var n=this.table.filter(function(e){return e.attachPortList.length>0}),o=this.compilerTableConfig[e].typeIndex,l=0;l<n.length;++l)for(var c=0;c<n[l].deviceModelList[n[l].modelIndex].AttachPortList.length;++c)if(o===n[l].deviceModelList[n[l].modelIndex].AttachPortList[c]){var u=n[l].attachPortValue[c];""!==u&&(this.compilerTableConfig[e].portList[u].disabled=!0)}},selectAttachPort:function(e,t){var s=e.deviceModelList[e.modelIndex].AttachPortList[t-1];for(var r in this.compilerTableConfig)s===this.compilerTableConfig[r].typeIndex&&this.selectPort(r)},changeType:function(e){""===e.deviceType?e.deviceModelList=[]:e.deviceModelList=e.deviceTypeList.find(function(t){return t.Name===e.deviceType}).Models,e.modelIndex=null,e.Description=""},changeModel:function(e){e.attachPortValue=[],e.attachPortList=[],e.Description=e.deviceModelList[e.modelIndex].Description;for(var t=0;t<e.deviceModelList[e.modelIndex].AttachPortList.length;++t){var s=e.deviceModelList[e.modelIndex].AttachPortList[t];for(var r in this.compilerTableConfig)s===this.compilerTableConfig[r].typeIndex&&(e.attachPortList[t]=this.compilerTableConfig[r].portList);e.attachPortValue[t]="",this.config.attachPort<e.deviceModelList[e.modelIndex].AttachPortList.length&&(this.config.attachPort=e.deviceModelList[e.modelIndex].AttachPortList.length)}},compiler:function(){var e=this;return u()(l.a.mark(function t(){var s,r,a,i,n,o,c,u,p;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.config.name.trim()){t.next=3;break}return e.$message({message:"请填写适配层名称",type:"warning"}),t.abrupt("return");case 3:if(void 0!==e.config.product){t.next=6;break}return e.$message({message:"请选择设备型号",type:"warning"}),t.abrupt("return");case 6:s=new Date,r=s.getFullYear().toString(),a=s.getMonth()+1,i=s.getDate(),a<10&&(a="0"+a.toString()),i<10&&(i="0"+i.toString()),e.compilerButton=!0,n={application:window.g.application,user:e.user,programName:r+a+i+"-"+e.config.name+".bin",fileVersion:e.curFileVersion,businessScene:e.curBusinessScene,product:e.product,deviceList:[]},t.prev=14,o=0;case 16:if(!(o<e.table.length)){t.next=32;break}if(!(e.table[o].hasPort&&""===e.table[o].port||null===e.table[o].modelIndex)){t.next=19;break}return t.abrupt("continue",29);case 19:if("COM"!==e.table[o].name||5!==e.table[o].port||0!==e.uniqueID.indexOf("0")){t.next=22;break}return e.$message({message:"不能选择COM5",type:"error"}),t.abrupt("return");case 22:if(!e.table[o].hasAddress||null!==e.table[o].address){t.next=25;break}return e.$message({message:"请选择第"+(o+1).toString()+"行设备的地址",type:"error"}),t.abrupt("return");case 25:if(""!==e.table[o].serialNo){t.next=28;break}return e.$message({message:"请填写第"+(o+1).toString()+"行设备的资源编号",type:"error"}),t.abrupt("return");case 28:try{for(c=n.deviceList.push({PortType:e.table[o].name,Port:e.table[o].hasPort?e.table[o].port-1:255,Address:e.table[o].address,SerialCode:e.table[o].serialNo,Version:e.table[o].deviceModelList[e.table[o].modelIndex].Version,AttachPortList:[]})-1,u=0;u<e.table[o].attachPortValue.length;++u)void 0===e.table[o].attachPortValue[u]||""===e.table[o].attachPortValue[u]?n.deviceList[c].AttachPortList.push(255):n.deviceList[c].AttachPortList.push(parseInt(e.table[o].attachPortValue[u])-1)}catch(e){console.log("row:"+o),console.log(e)}case 29:++o,t.next=16;break;case 32:return console.log(n),t.prev=33,t.next=36,e.axios.compiler(n);case 36:1===(p=t.sent).data.Result?(e.$message({message:p.data.Message,type:"success"}),e.$emit("getProgramFiles")):e.$message({message:p.data.Message,type:"error"}),t.next=44;break;case 40:t.prev=40,t.t0=t.catch(33),console.log(t.t0),e.$message({message:"请求生成适配层时发生异常",type:"error"});case 44:t.next=50;break;case 46:t.prev=46,t.t1=t.catch(14),console.log(t.t1),e.$message({message:"请求生成适配层时发生未知异常",type:"error"});case 50:return t.prev=50,e.compilerButton=!1,t.finish(50);case 53:case"end":return t.stop()}},t,e,[[14,46,50,53],[33,40]])}))()}}},X={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form",attrs:{model:e.config,size:"mini"}},[s("el-form-item",[s("span",{staticClass:"title"},[e._v("请输入文件名称")]),e._v(" "),s("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入"},model:{value:e.config.name,callback:function(t){e.$set(e.config,"name",t)},expression:"config.name"}}),e._v(" "),s("span",{staticClass:"title"},[e._v("COM口数量")]),e._v(" "),s("el-select",{staticStyle:{width:"70px"},on:{change:function(t){e.changePortNum("COM")}},model:{value:e.compilerTableConfig.COM.num,callback:function(t){e.$set(e.compilerTableConfig.COM,"num",t)},expression:"compilerTableConfig['COM'].num"}},e._l(e.compilerTableConfig.COM.maxNum+1,function(e,t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),e._v(" "),s("span",{staticClass:"title"},[e._v("AI口数量")]),e._v(" "),s("el-select",{staticStyle:{width:"70px"},on:{change:function(t){e.changePortNum("AI")}},model:{value:e.compilerTableConfig.AI.num,callback:function(t){e.$set(e.compilerTableConfig.AI,"num",t)},expression:"compilerTableConfig['AI'].num"}},e._l(e.compilerTableConfig.AI.maxNum+1,function(e,t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),e._v(" "),s("span",{staticClass:"title"},[e._v("DI口数量")]),e._v(" "),s("el-select",{staticStyle:{width:"70px"},on:{change:function(t){e.changePortNum("DI")}},model:{value:e.compilerTableConfig.DI.num,callback:function(t){e.$set(e.compilerTableConfig.DI,"num",t)},expression:"compilerTableConfig['DI'].num"}},e._l(e.compilerTableConfig.DI.maxNum+1,function(e,t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),e._v(" "),s("span",{staticClass:"title"},[e._v("DO口数量")]),e._v(" "),s("el-select",{staticStyle:{width:"70px"},on:{change:function(t){e.changePortNum("DO")}},model:{value:e.compilerTableConfig.DO.num,callback:function(t){e.$set(e.compilerTableConfig.DO,"num",t)},expression:"compilerTableConfig['DO'].num"}},e._l(e.compilerTableConfig.DO.maxNum+1,function(e,t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),e._v(" "),s("span",{staticClass:"title"},[e._v("蓄电池数量")]),e._v(" "),s("el-select",{staticStyle:{width:"70px"},on:{change:function(t){e.changePortNum("BAT")}},model:{value:e.compilerTableConfig.BAT.num,callback:function(t){e.$set(e.compilerTableConfig.BAT,"num",t)},expression:"compilerTableConfig['BAT'].num"}},e._l(e.compilerTableConfig.BAT.maxNum+1,function(e,t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),e._v(" "),s("span",{staticClass:"title"},[e._v("传感器数量")]),e._v(" "),s("el-select",{staticStyle:{width:"70px"},on:{change:function(t){e.changePortNum("CAN")}},model:{value:e.compilerTableConfig.CAN.num,callback:function(t){e.$set(e.compilerTableConfig.CAN,"num",t)},expression:"compilerTableConfig['CAN'].num"}},e._l(e.compilerTableConfig.CAN.maxNum+1,function(e,t){return s("el-option",{key:t,attrs:{label:t,value:t}})}))],1),e._v(" "),s("el-form-item",[s("el-table",{staticStyle:{"text-align":"left",width:"100%","padding-left":"10px"},attrs:{data:e.table,height:"490px"}},[s("el-table-column",{attrs:{label:"端口类型",width:"90px",prop:"name"}}),e._v(" "),s("el-table-column",{attrs:{label:"端口号",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.hasPort?s("el-select",{attrs:{placeholder:""},on:{change:function(s){e.selectPort(t.row.name)}},model:{value:t.row.port,callback:function(s){e.$set(t.row,"port",s)},expression:"scope.row.port"}},e._l(e.compilerTableConfig[t.row.name].portList,function(e){return s("el-option",{key:e.value,attrs:{label:e.value,value:e.value,disabled:e.disabled}})})):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"设备类型",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{attrs:{placeholder:""},on:{change:function(s){e.changeType(t.row)}},model:{value:t.row.deviceType,callback:function(s){e.$set(t.row,"deviceType",s)},expression:"scope.row.deviceType"}},[s("el-option",{key:"",attrs:{label:"",value:""}}),e._v(" "),e._l(t.row.deviceTypeList,function(e){return s("el-option",{key:e.Name,attrs:{label:e.Name,value:e.Name}})})],2)]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"设备型号",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{attrs:{placeholder:""},on:{change:function(s){e.changeModel(t.row)}},model:{value:t.row.modelIndex,callback:function(s){e.$set(t.row,"modelIndex",s)},expression:"scope.row.modelIndex"}},e._l(t.row.deviceModelList,function(e,t){return s("el-option",{key:e.Version,attrs:{label:e.Name,value:t}})}))]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"设备地址",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.hasAddress?s("el-select",{attrs:{placeholder:""},model:{value:t.row.address,callback:function(s){e.$set(t.row,"address",s)},expression:"scope.row.address"}},e._l(t.row.addressMax,function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"资源编号",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{placeholder:"请输入"},model:{value:t.row.serialNo,callback:function(s){e.$set(t.row,"serialNo",s)},expression:"scope.row.serialNo"}})]}}])}),e._v(" "),e._l(e.config.attachPort,function(t){return s("el-table-column",{key:t,attrs:{label:"附加端口"+t.toString(),width:"90px"},scopedSlots:e._u([{key:"default",fn:function(r){return[r.row.attachPortList.length>=t?s("el-select",{attrs:{placeholder:""},on:{change:function(s){e.selectAttachPort(r.row,t)}},model:{value:r.row.attachPortValue[t-1],callback:function(s){e.$set(r.row.attachPortValue,t-1,s)},expression:"scope.row.attachPortValue[num - 1]"}},e._l(r.row.attachPortList[t-1],function(e){return s("el-option",{key:e.value,attrs:{label:e.value,value:e.value,disabled:e.disabled}})})):e._e()]}}])})}),e._v(" "),s("el-table-column",{attrs:{label:"详细信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!=t.row.modelIndex?s("span",[e._v(e._s(t.row.deviceModelList[t.row.modelIndex].Description))]):e._e()]}}])})],2)],1),e._v(" "),s("el-form-item",{staticStyle:{"text-align":"right"}},[s("el-button",{attrs:{type:"primary",size:"medium",loading:e.compilerButton},on:{click:e.compiler}},[e._v("生成适配层")])],1)],1)},staticRenderFns:[]};var H={name:"Update",components:{"v-program-table":s("VU/8")(Q,X,!1,function(e){s("Keqp")},"data-v-1ca97d6b",null).exports},props:["uniqueID"],data:function(){return{info:[],program:"",programList:[],isNewVersion:!1,versionLoading:!1,updateLoading:!1,curBusinessScene:this.$store.state.curBusinessScene}},created:function(){var e=this;return u()(l.a.mark(function t(){var s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={uniqueID:e.uniqueID},t.prev=1,t.next=4,e.axios.getStationDetail(s);case 4:t.t0=t.sent.data,e.info=[t.t0],e.$set(e.info[0],"Result",""),t.next=12;break;case 9:t.prev=9,t.t1=t.catch(1),e.$message({message:"获取基站信息失败",type:"error"});case 12:e.getProgramFiles();case 13:case"end":return t.stop()}},t,e,[[1,9]])}))()},computed:{username:function(){return this.$store.state.user.Username},product:function(){var e=this;return this.$store.state.productList.find(function(t){return 0===e.info[0].UniqueID.indexOf(t.UniqueIDKey)})},deviceNameDic:function(){return this.$store.state.deviceNameDic[this.product.ID]},curFileVersion:function(){return this.$store.state.curFileVersion},updateInfo:function(){return this.$store.state.updateInfo}},methods:{getProgramFiles:function(){var e=this;return u()(l.a.mark(function t(){var s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={user:e.username},t.prev=1,t.next=4,e.axios.getProgramFiles(s);case 4:e.programList=t.sent.data,e.programList.push("清除所有记录"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}},t,e,[[1,8]])}))()},selectProgram:function(){var e=this;return u()(l.a.mark(function t(){var s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("清除所有记录"!==e.program){t.next=5;break}return s={user:e.username,filename:""},t.next=4,e.axios.delProgramFiles(s);case 4:e.getProgramFiles();case 5:case"end":return t.stop()}},t,e)}))()},getVersion:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.versionLoading=!0,s={UniqueID:e.info[0].UniqueID,OMCID:e.info[0].OMCID},t.prev=2,t.next=5,e.axios.getVersion(s);case 5:r=t.sent.data,console.log(r),null!==r&&1===r.Result?(e.info[0].EngineVersion=r.EngineVersion,e.info[0].ProgramVersion=r.ProgramVersion,e.info[0].FSUVersion=r.FSUVersion,e.isNewVersion=!0,e.$message({message:"获取版本号成功",type:"success"}),"1.5.2.0"===e.info[0].ProgramVersion?(e.curBusinessScene=e.$store.state.businessSceneList.find(function(e){return 31===e.ID}),e.$store.commit("setCurBusinessScene",e.curBusinessScene)):(e.curBusinessScene=e.$store.state.businessSceneList.find(function(e){return 1===e.ID}),e.$store.commit("setCurBusinessScene",e.curBusinessScene))):(e.isNewVersion=!1,e.$message({message:"获取版本号失败",type:"error"})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),e.isNewVersion=!1,e.$message({message:"获取版本号失败："+t.t0.message,type:"error"});case 14:return t.prev=14,e.versionLoading=!1,t.finish(14);case 17:case"end":return t.stop()}},t,e,[[2,10,14,17]])}))()},autoUpdate:function(){var e=this;return u()(l.a.mark(function t(){var s,r,a,i,n,o,c;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e.product){t.next=4;break}return e.info[0].Result="无法升级",e.$message({message:"未找到对应产品型号信息，无法生成适配层",type:"error"}),t.abrupt("return");case 4:if(e.isNewVersion){t.next=8;break}return e.info[0].Result="请先获取版本号",e.$message({message:"请先获取版本号",type:"warning"}),t.abrupt("return");case 8:return s={UniqueID:e.info[0].UniqueID,OMCID:e.info[0].OMCID},e.updateLoading=!0,e.info[0].Result="正在获取设备信息...",t.prev=11,r=new Array(0),t.prev=13,t.delegateYield(l.a.mark(function t(){var a,i,n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.axios.getDeviceDescription(s);case 2:if(a=t.sent.data,console.log(a),null===a||1!==a.Result){t.next=16;break}i=function(t){if(""===a.DeviceDescriptionList[t].Version)return"continue";for(var s in e.deviceNameDic){void 0!==e.deviceNameDic[s].find(function(e){return e.Code===a.DeviceDescriptionList[t].PortType})&&(a.DeviceDescriptionList[t].PortType=s)}r.push({SerialCode:a.DeviceDescriptionList[t].ResNo,Port:a.DeviceDescriptionList[t].Port,AttachPortList:a.DeviceDescriptionList[t].AttachPortList,Version:a.DeviceDescriptionList[t].Version,Address:a.DeviceDescriptionList[t].Address,PortType:a.DeviceDescriptionList[t].PortType})},n=0;case 7:if(!(n<a.DeviceDescriptionList.length)){t.next=14;break}if("continue"!==i(n)){t.next=11;break}return t.abrupt("continue",11);case 11:++n,t.next=7;break;case 14:t.next=18;break;case 16:return e.info[0].Result="获取设备信息失败",t.abrupt("return",{v:void 0});case 18:case"end":return t.stop()}},t,e)})(),"t0",15);case 15:if("object"!==(void 0===(a=t.t0)?"undefined":Y()(a))){t.next=18;break}return t.abrupt("return",a.v);case 18:t.next=25;break;case 20:return t.prev=20,t.t1=t.catch(13),console.log(t.t1),e.info[0].Result="获取设备信息异常",t.abrupt("return");case 25:return e.info[0].Result="正在生成适配层...",i=e.info[0].UniqueID+"_AUTOUPDATE.bin",t.prev=27,n={application:window.g.application,user:e.username,programName:i,fileVersion:e.curFileVersion,businessScene:e.curBusinessScene,product:e.product,deviceList:r},console.log(n),t.next=32,e.axios.compiler(n);case 32:if(1!==(o=t.sent).data.Result){t.next=38;break}return t.next=36,e.update(i);case 36:t.next=41;break;case 38:return e.info[0].Result="生成适配层失败",e.$message({message:o.data.Message,type:"error"}),t.abrupt("return");case 41:t.next=48;break;case 43:return t.prev=43,t.t2=t.catch(27),console.log(t.t2),e.info[0].Result="生成适配层异常",t.abrupt("return");case 48:return t.prev=48,c={user:e.username,filename:i},t.next=52,e.axios.delProgramFiles(c);case 52:return t.finish(48);case 53:t.next=59;break;case 55:t.prev=55,t.t3=t.catch(11),console.log(t.t3),e.info[0].Result="自动升级异常";case 59:return t.prev=59,e.updateLoading=!1,t.finish(59);case 62:case"end":return t.stop()}},t,e,[[11,55,59,62],[13,20],[27,43,48,53]])}))()},update:function(e){var t=this;return u()(l.a.mark(function s(){var r,a;return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0!==t.product){s.next=4;break}return t.info[0].Result="无法升级",t.$message({message:"未找到对应产品型号信息，无法升级",type:"error"}),s.abrupt("return");case 4:if(void 0!==e){s.next=10;break}if(""!==t.program){s.next=9;break}return t.info[0].Result="请选择适配层",t.$message({message:"请选择适配层",type:"warning"}),s.abrupt("return");case 9:e=t.program;case 10:if(t.isNewVersion){s.next=14;break}return t.info[0].Result="请先获取版本号",t.$message({message:"请先获取版本号",type:"warning"}),s.abrupt("return");case 14:return t.updateLoading=!0,r={Username:t.username,OMCID:t.info[0].OMCID,UniqueID:t.info[0].UniqueID,Engine:t.engineUpdate(),Program:e,FSU:t.fsuUpdate(),FileVersion:t.curFileVersion,BusinessScene:t.curBusinessScene,Product:t.product,Source:window.g.application},console.log(r),t.info[0].Result="正在下发升级文件...",s.prev=18,s.next=21,t.axios.update(r);case 21:1===(a=s.sent.data).Result?(t.info[0].Result="文件下发成功",t.$message({message:"文件下发成功",type:"success"})):(t.info[0].Result="文件下发失败",t.$message({message:a.Message,type:"error"})),s.next=29;break;case 25:s.prev=25,s.t0=s.catch(18),console.log(s.t0),t.$message({message:"升级时发生异常",type:"error"});case 29:return s.prev=29,t.updateLoading=!1,s.finish(29);case 32:case"end":return s.stop()}},s,t,[[18,25,29,32]])}))()},engineUpdate:function(){if(void 0===this.product)return null;if(void 0===this.updateInfo.EngineVerDic[this.curFileVersion.ID]||void 0===this.updateInfo.EngineVerDic[this.curFileVersion.ID][this.curBusinessScene.ID]||void 0===this.updateInfo.EngineVerDic[this.curFileVersion.ID][this.curBusinessScene.ID][this.product.ID])return null;var e=this.updateInfo.EngineVerDic[this.curFileVersion.ID][this.curBusinessScene.ID][this.product.ID].Version;if(this.common.compareVersion(this.info[0].EngineVersion,e))return null;var t=this.updateInfo.EngineVerDic[this.curFileVersion.ID][this.curBusinessScene.ID][this.product.ID];return{Name:t.Name,MD5:t.MD5,Version:t.Version,Url:window.g.updateServerDownload+"/"+t.Url}},fsuUpdate:function(){if(void 0===this.product)return null;if(void 0===this.updateInfo.FsuVerDic[this.curFileVersion.ID]||void 0===this.updateInfo.FsuVerDic[this.curFileVersion.ID][this.curBusinessScene.ID]||void 0===this.updateInfo.FsuVerDic[this.curFileVersion.ID][this.curBusinessScene.ID][this.product.ID])return null;var e=this.updateInfo.FsuVerDic[this.curFileVersion.ID][this.curBusinessScene.ID][this.product.ID].Version;if(this.common.compareVersion(this.info[0].FSUVersion,e))return null;var t=this.updateInfo.FsuVerDic[this.curFileVersion.ID][this.curBusinessScene.ID][this.product.ID];return{Name:t.Name,MD5:t.MD5,Version:t.Version,Url:window.g.updateServerDownload+"/"+t.Url}}}},J={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-table",{staticStyle:{"text-align":"left"},attrs:{data:e.info}},[s("el-table-column",{attrs:{width:"55"}}),e._v(" "),s("el-table-column",{attrs:{label:"基站名称",prop:"Name"}}),e._v(" "),s("el-table-column",{attrs:{label:"FSUID",prop:"FSUID","min-width":"130px"}}),e._v(" "),s("el-table-column",{attrs:{label:"出厂码",prop:"UniqueID","min-width":"130px"}}),e._v(" "),s("el-table-column",{attrs:{label:"IP",prop:"IP"}}),e._v(" "),s("el-table-column",{attrs:{label:"版本号","min-width":"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isNewVersion?s("span",[e._v(e._s("引擎:"+e.info[0].EngineVersion+"；适配层:"+e.info[0].ProgramVersion+"；FSU软件:"+e.info[0].FSUVersion))]):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"适配层文件"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{attrs:{placeholder:"请选择",size:"small"},on:{change:e.selectProgram},model:{value:e.program,callback:function(t){e.program=t},expression:"program"}},e._l(e.programList,function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})}))]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"升级结果",prop:"Result"}})],1),e._v(" "),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px","text-align":"right",width:"100%"}},[s("el-button",{attrs:{type:"primary",size:"medium",loading:e.versionLoading},on:{click:e.getVersion}},[e._v("获取版本号")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"medium",loading:e.updateLoading},on:{click:e.autoUpdate}},[e._v("适配层自动升级")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"medium",loading:e.updateLoading},on:{click:function(t){e.update()}}},[e._v("开始升级")])],1),e._v(" "),s("div",[s("v-program-table",{staticStyle:{width:"100%"},attrs:{uniqueID:e.uniqueID},on:{getProgramFiles:e.getProgramFiles}})],1)],1)},staticRenderFns:[]};var K=s("VU/8")(H,J,!1,function(e){s("4m3P")},"data-v-d52e812e",null).exports,Z={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form",staticClass:"form",attrs:{inline:!0,model:e.form,"label-width":"70px",size:"mini"}},[s("el-form-item",{staticClass:"formItem",attrs:{label:"基站名称"}},[s("el-input",{staticClass:"input",model:{value:e.form.stationName,callback:function(t){e.$set(e.form,"stationName",t)},expression:"form.stationName"}})],1),e._v(" "),s("el-form-item",{staticClass:"formItem",attrs:{label:"FSUID"}},[s("el-input",{staticClass:"input",model:{value:e.form.fsuid,callback:function(t){e.$set(e.form,"fsuid",t)},expression:"form.fsuid"}})],1),e._v(" "),s("el-form-item",{staticClass:"formItem"},[s("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.resetForm("form")}}},[e._v("重置")])],1)],1)},staticRenderFns:[]};var j={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"background-color":"white","text-align":"right"}},[r("el-table",{staticStyle:{"text-align":"left"},attrs:{data:e.stationList,"header-cell-style":{background:"#3E4D5C",color:"#FFFFFF"},size:"medium"}},[r("el-table-column",{attrs:{width:"30"}}),e._v(" "),r("el-table-column",{attrs:{label:"基站名称","show-overflow-tooltip":!0,"min-width":"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{cursor:"pointer",color:"#00B98B",padding:"0"},on:{click:function(s){e.clickName(t.row)}}},[e._v(e._s(t.row.Name))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"升级",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("img",{staticStyle:{cursor:"pointer","margin-top":"5px"},attrs:{src:s("9yMP")},on:{click:function(s){e.update(t.row)}}})]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"FSUID",prop:"FSUID","min-width":"130px"}}),e._v(" "),r("el-table-column",{attrs:{label:"IP",prop:"IP",width:"130px"}}),e._v(" "),r("el-table-column",{attrs:{label:"状态",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(e){return[e.row.Online?r("img",{attrs:{src:s("IxiR")}}):r("img",{attrs:{src:s("XMVu")}})]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"离线时间","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.Online?e._e():r("span",[e._v(e._s(t.row.OfflineTime))])]}}])})],1)],1)},staticRenderFns:[]};var ee={components:{"v-search-box":s("VU/8")({data:function(){return{form:{stationName:"",fsuid:"",uniqueID:"",businessScene:""}}},methods:{search:function(){this.$emit("search",this.form)},resetForm:function(){this.form.stationName="",this.form.fsuid="",this.form.uniqueID="",this.form.businessScene=""}}},Z,!1,function(e){s("8gvo")},"data-v-b8176658",null).exports,"v-station-table":s("VU/8")({props:["stationNum","stationList"],data:function(){return{}},computed:{pageSize:function(){return this.$store.state.pageSize}},methods:{clickName:function(e){this.$emit("addDetailTab",e.Name,e.FSUID)},update:function(e){this.$emit("addUpdateTab",e.Name,e.FSUID)}}},j,!1,function(e){s("uhww")},"data-v-77847cc4",null).exports},data:function(){return{filter:{Name:"",FSUID:"",AddressList:[]},address:[],stationNum:0,station:[],waitSearch:!1}},computed:{curFileVersion:function(){return this.$store.state.curFileVersion},curBusinessScene:function(){return this.$store.state.curBusinessScene},productList:function(){return this.$store.state.productList},updateInfo:function(){return this.$store.state.updateInfo}},methods:{selectAddress:function(e){this.address=e},addDetailTab:function(e,t){this.$emit("addDetailTab",e,t)},addUpdateTab:function(e,t){this.$emit("addUpdateTab",e,t)},clickSearch:function(e){this.filter.Name=e.stationName.trim(),this.filter.FSUID=e.fsuid.trim(),this.filter.AddressList=this.address,this.search()},search:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.waitSearch=!0,t.prev=1,s={filter:e.filter},t.next=5,e.axios.getStationList_CMCC(s);case 5:1===(r=t.sent.data).Result?(0===r.StationNum&&e.$message({message:"未找到符合条件的基站",type:"warning"}),e.stationNum=r.StationNum,e.station=r.StationList):e.$message({message:"查询基站失败",type:"warning"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.$message({message:"查询基站失败："+t.t0.message,type:"error"});case 12:return t.prev=12,e.waitSearch=!1,t.finish(12);case 15:case"end":return t.stop()}},t,e,[[1,9,12,15]])}))()}}},te={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",{directives:[{name:"loading",rawName:"v-loading",value:this.waitSearch,expression:"waitSearch"}],staticClass:"container"},[t("el-main",{staticClass:"main",staticStyle:{"background-color":"#f5f7fa"}},[t("div",{staticClass:"panel"},[t("v-search-box",{ref:"searchBox",staticClass:"searchBox",on:{search:this.clickSearch}})],1),this._v(" "),t("div",{staticClass:"panel"},[t("v-station-table",{staticClass:"stationTable",attrs:{"station-num":this.stationNum,"station-list":this.station},on:{addDetailTab:this.addDetailTab,addUpdateTab:this.addUpdateTab}})],1)])],1)},staticRenderFns:[]};var se=s("VU/8")(ee,te,!1,function(e){s("5rS3")},"data-v-339f7cc3",null).exports,re={props:["info"],data:function(){return{curDevice:void 0,deviceList:[],dataList:[],aodoList:[],waitGetDeviceList:!1,waitGetData:!1,waitSetData:!1}},computed:{curFileVersion:function(){return this.$store.state.curFileVersion},curBusinessScene:function(){return this.$store.state.curBusinessScene}},methods:{getDeviceList:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.waitGetDeviceList=!0,s={fileVersion:e.curFileVersion,businessScene:e.curBusinessScene,ip:e.info.IP},t.prev=2,t.next=5,e.axios.getDeviceList_CMCC(s);case 5:null!==(r=t.sent.data)&&1===r.result?(e.deviceList=r.devices,console.log(r.devices),e.$message({message:"获取设备列表成功",type:"success"})):e.$message({message:"获取设备列表失败",type:"error"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),e.$message({message:"获取设备列表失败："+t.t0.message,type:"error"});case 12:return t.prev=12,e.waitGetDeviceList=!1,t.finish(12);case 15:case"end":return t.stop()}},t,e,[[2,9,12,15]])}))()},getData:function(e){var t=this;return u()(l.a.mark(function s(){var r,a,i,n;return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.curDevice=t.deviceList[e],r={fileVersion:t.curFileVersion,businessScene:t.curBusinessScene,ip:t.info.IP,device:t.curDevice},s.prev=2,t.waitGetData=!0,s.prev=4,s.next=7,t.axios.getData_CMCC(r);case 7:if(a=s.sent.data,console.log(a),null!==a&&1===a.result){for(t.dataList=a.data.filter(function(e){return 3===e.SignalType||4===e.SignalType}),t.aodoList=a.data.filter(function(e){return 1===e.SignalType||2===e.SignalType}),i=0;i<t.dataList.length;++i)3===t.dataList[i].SignalType?t.dataList[i].SignalType="AI":4===t.dataList[i].SignalType&&(t.dataList[i].SignalType="DI");for(n=0;n<t.aodoList.length;++n)1===t.aodoList[n].SignalType?t.aodoList[n].SignalType="DO":2===t.aodoList[n].SignalType&&(t.aodoList[n].SignalType="AO");t.$message({message:"获取数据信息成功",type:"success"})}else t.$message({message:"获取数据失败",type:"error"});s.next=15;break;case 12:s.prev=12,s.t0=s.catch(4),t.$message({message:"获取数据失败："+s.t0.message,type:"error"});case 15:return s.prev=15,t.waitGetData=!1,s.finish(15);case 18:case"end":return s.stop()}},s,t,[[2,,15,18],[4,12]])}))()},setData:function(e){var t=this;return u()(l.a.mark(function s(){var r,a;return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return r={fileVersion:t.curFileVersion,businessScene:t.curBusinessScene,ip:t.info.IP,device:t.curDevice,signalInfoXls:e},console.log(r),s.prev=2,t.waitSetData=!0,s.next=6,t.axios.setData_CMCC(r);case 6:null!==(a=s.sent.data)&&1===a.result?t.$message({message:"设置遥控遥调点成功",type:"success"}):t.$message({message:"设置遥控遥调点失败",type:"error"}),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(2),t.$message({message:"设置遥控遥调点失败："+s.t0.message,type:"error"});case 13:return s.prev=13,t.waitSetData=!1,s.finish(13);case 16:case"end":return s.stop()}},s,t,[[2,10,13,16]])}))()}}},ae={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-tabs",{staticStyle:{"margin-right":"20px","margin-bottom":"10px","min-height":"700px"},attrs:{type:"border-card"}},[s("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.waitGetData,expression:"waitGetData"}],attrs:{label:"实时监控"}},[s("div",[s("el-button",{attrs:{type:"primary",size:"small",loading:e.waitGetDeviceList},on:{click:e.getDeviceList}},[e._v("获取设备列表")])],1),e._v(" "),s("el-container",{staticStyle:{"margin-top":"10px","border-top":"1px solid #CACACA",height:"600px"}},[s("el-aside",{staticStyle:{height:"100%","border-right":"1px solid #CACACA"},attrs:{width:"200px"}},[s("el-menu",{staticStyle:{"border-right":"0px solid #CACACA","font-size":"12px"},attrs:{collapse:!1},on:{select:e.getData}},e._l(e.deviceList,function(t,r){return s("el-menu-item",{key:r,staticClass:"menuItem",attrs:{index:r.toString()}},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.DeviceName+"-"+t.SerialCode))])])}))],1),e._v(" "),s("el-main",{staticStyle:{padding:"0px",height:"100%"}},[s("el-tabs",[s("el-tab-pane",{attrs:{label:"实时监控数据"}},[s("el-table",{staticClass:"table",attrs:{data:e.dataList,"header-cell-style":{background:"#3E4D5C",color:"#FFFFFF"}}},[s("el-table-column",{attrs:{label:"名称",prop:"SignalName"}}),e._v(" "),s("el-table-column",{attrs:{label:"类型",prop:"SignalType"}}),e._v(" "),s("el-table-column",{attrs:{label:"值",prop:"Data"}})],1)],1),e._v(" "),s("el-tab-pane",{attrs:{label:"遥控遥调点"}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.waitSetData,expression:"waitSetData"}],staticClass:"table",attrs:{data:e.aodoList,"header-cell-style":{background:"#3E4D5C",color:"#FFFFFF"}}},[s("el-table-column",{attrs:{label:"名称",prop:"SignalName"}}),e._v(" "),s("el-table-column",{attrs:{label:"类型",prop:"SignalType"}}),e._v(" "),s("el-table-column",{attrs:{label:"值"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{size:"mini"},model:{value:t.row.Data,callback:function(s){e.$set(t.row,"Data",s)},expression:"scope.row.Data"}})]}}])}),e._v(" "),s("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){e.setData(t.row)}}},[e._v("设置")])]}}])})],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var ie={components:{"v-performance-monitoring":s("VU/8")(re,ae,!1,function(e){s("Cxy+")},"data-v-0d4088f4",null).exports},props:["uniqueID"],data:function(){return{info:{}}},created:function(){var e=this;return u()(l.a.mark(function t(){var s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={fsuid:e.uniqueID},t.prev=1,t.next=4,e.axios.getStationDetail_CMCC(s);case 4:e.info=t.sent.data,console.log(e.info),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),e.$message({message:"获取基站详情失败",type:"error"});case 12:case"end":return t.stop()}},t,e,[[1,8]])}))()}},ne={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-tabs",{staticStyle:{"margin-right":"20px","margin-bottom":"10px","min-height":"800px","background-color":"#f5f7fa"},attrs:{type:"border-card"}},[t("el-tab-pane",{attrs:{label:"性能监控"}},[t("v-performance-monitoring",{attrs:{info:this.info}})],1)],1)},staticRenderFns:[]};var oe=s("VU/8")(ie,ne,!1,function(e){s("ZTYB")},"data-v-62999d13",null).exports,le={name:"ProgramTable",data:function(){return{compilerTableConfig:{COM:{typeIndex:1,num:4,maxNum:32,portList:[],hasPort:!0,sharePort:!0,hasAddress:!0},AI:{typeIndex:2,num:4,maxNum:16,portList:[],hasPort:!0,sharePort:!1,hasAddress:!1},DI:{typeIndex:3,num:4,maxNum:16,portList:[],hasPort:!0,sharePort:!1,hasAddress:!1},DO:{typeIndex:4,num:4,maxNum:16,portList:[],hasPort:!0,sharePort:!1,hasAddress:!1},BAT:{typeIndex:5,num:2,maxNum:2,portList:[],hasPort:!0,sharePort:!1,hasAddress:!1},CAN:{typeIndex:6,num:5,maxNum:32,portList:[],hasPort:!1,sharePort:!1,hasAddress:!0}},config:{product:void 0,name:"",attachPort:0},table:[],compilerButton:!1}},created:function(){this.initTable()},computed:{user:function(){return this.$store.state.user.Username},curFileVersion:function(){return this.$store.state.curFileVersion},curBusinessScene:function(){return this.$store.state.curBusinessScene},deviceInfo:function(){return this.$store.state.deviceInfo},productList:function(){return this.$store.state.productList}},methods:{initTable:function(){for(var e in this.table=[],this.compilerTableConfig){this.compilerTableConfig[e].portList=[{value:"",disabled:!1}];for(var t=1;t<=this.compilerTableConfig[e].maxNum;++t)this.compilerTableConfig[e].portList.push({value:t,disabled:!1});for(var s=0;s<this.compilerTableConfig[e].num;++s)this.table.push(this.newTableRow(e))}},newTableRow:function(e){return{name:e,port:"",portMax:this.compilerTableConfig[e].maxNum,deviceType:"",modelIndex:null,deviceTypeList:this.deviceInfo[e],deviceModelList:[],hasAddress:this.compilerTableConfig[e].hasAddress,hasPort:this.compilerTableConfig[e].hasPort,address:null,addressMax:8,serialNo:"",attachPortValue:[],attachPortList:[]}},tableIndexStart:function(e){var t=0;for(var s in this.compilerTableConfig){if(e===s)return t;t+=this.compilerTableConfig[s].num}return t},changePortNum:function(e){var t=this.tableIndexStart(e),s=this.table.filter(function(t){return t.name===e}).length;if(void 0===t)for(var r=0;r<this.compilerTableConfig[e].num;++r)this.table.splice(r,0,this.newTableRow(e));else if(s>this.compilerTableConfig[e].num)this.table.splice(t+this.compilerTableConfig[e].num,s-this.compilerTableConfig[e].num);else for(var a=0;a<this.compilerTableConfig[e].num-s;++a)this.table.splice(t+s+a,0,this.newTableRow(e))},selectPort:function(e){if(!this.compilerTableConfig[e].sharePort){for(var t=0;t<this.compilerTableConfig[e].portList.length;++t)this.compilerTableConfig[e].portList[t].disabled=!1;for(var s=this.tableIndexStart(e),r=this.table.filter(function(t){return t.name===e}).length,a=0;a<r;++a){var i=this.table[a+s].port;""!==i&&(this.compilerTableConfig[e].portList[i].disabled=!0)}}for(var n=this.table.filter(function(e){return e.attachPortList.length>0}),o=this.compilerTableConfig[e].typeIndex,l=0;l<n.length;++l)for(var c=0;c<n[l].deviceModelList[n[l].modelIndex].AttachPortList.length;++c)if(o===n[l].deviceModelList[n[l].modelIndex].AttachPortList[c]){var u=n[l].attachPortValue[c];""!==u&&(this.compilerTableConfig[e].portList[u].disabled=!0)}},selectAttachPort:function(e,t){var s=e.deviceModelList[e.modelIndex].AttachPortList[t-1];for(var r in this.compilerTableConfig)s===this.compilerTableConfig[r].typeIndex&&this.selectPort(r)},changeType:function(e){""===e.deviceType?e.deviceModelList=[]:e.deviceModelList=e.deviceTypeList.find(function(t){return t.Name===e.deviceType}).Models,e.modelIndex=null,e.Description=""},changeModel:function(e){e.attachPortValue=[],e.attachPortList=[],e.Description=e.deviceModelList[e.modelIndex].Description;for(var t=0;t<e.deviceModelList[e.modelIndex].AttachPortList.length;++t){var s=e.deviceModelList[e.modelIndex].AttachPortList[t];for(var r in this.compilerTableConfig)s===this.compilerTableConfig[r].typeIndex&&(e.attachPortList[t]=this.compilerTableConfig[r].portList);e.attachPortValue[t]="",this.config.attachPort<e.deviceModelList[e.modelIndex].AttachPortList.length&&(this.config.attachPort=e.deviceModelList[e.modelIndex].AttachPortList.length)}},compiler:function(){var e=this;return u()(l.a.mark(function t(){var s,r,a,i,n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.config.name.trim()){t.next=3;break}return e.$message({message:"请填写适配层名称",type:"warning"}),t.abrupt("return");case 3:e.config.product=1,e.compilerButton=!0,s={application:window.g.application,user:e.user,programName:e.config.name+".bin",fileVersion:e.curFileVersion,businessScene:e.curBusinessScene,product:e.productList.find(function(t){return t.ID===e.config.product}),deviceList:[]},t.prev=6,r=0;case 8:if(!(r<e.table.length)){t.next=24;break}if(!(e.table[r].hasPort&&""===e.table[r].port||null===e.table[r].modelIndex)){t.next=11;break}return t.abrupt("continue",21);case 11:if("COM"!==e.table[r].name||5!==e.table[r].port||3!==e.config.product&&4!==e.config.product){t.next=14;break}return e.$message({message:"FH和FS系列不能选择COM5",type:"error"}),t.abrupt("return");case 14:if(!e.table[r].hasAddress||null!==e.table[r].address){t.next=17;break}return e.$message({message:"请选择第"+(r+1).toString()+"行设备的地址",type:"error"}),t.abrupt("return");case 17:if(""!==e.table[r].serialNo){t.next=20;break}return e.$message({message:"请填写第"+(r+1).toString()+"行设备的资源编号",type:"error"}),t.abrupt("return");case 20:try{for(a=s.deviceList.push({PortType:e.table[r].name,Port:e.table[r].hasPort?e.table[r].port-1:255,Address:e.table[r].address,SerialCode:e.table[r].serialNo,Version:e.table[r].deviceModelList[e.table[r].modelIndex].Version,AttachPortList:[]})-1,i=0;i<e.table[r].attachPortValue.length;++i)void 0===e.table[r].attachPortValue[i]||""===e.table[r].attachPortValue[i]?s.deviceList[a].AttachPortList.push(255):s.deviceList[a].AttachPortList.push(parseInt(e.table[r].attachPortValue[i])-1)}catch(e){console.log("row:"+r),console.log(e)}case 21:++r,t.next=8;break;case 24:return console.log(s),t.prev=25,t.next=28,e.axios.compiler(s);case 28:1===(n=t.sent).data.Result?(e.$message({message:n.data.Message,type:"success"}),e.$emit("getProgramFiles")):e.$message({message:n.data.Message,type:"error"}),t.next=35;break;case 32:t.prev=32,t.t0=t.catch(25),e.$message({message:"请求生成适配层时发生异常",type:"error"});case 35:t.next=40;break;case 37:t.prev=37,t.t1=t.catch(6),e.$message({message:"请求生成适配层时发生未知异常",type:"error"});case 40:return t.prev=40,e.compilerButton=!1,t.finish(40);case 43:case"end":return t.stop()}},t,e,[[6,37,40,43],[25,32]])}))()}}},ce={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form",attrs:{model:e.config,size:"mini"}},[s("el-form-item",[s("span",{staticClass:"title"},[e._v("请输入文件名称")]),e._v(" "),s("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入"},model:{value:e.config.name,callback:function(t){e.$set(e.config,"name",t)},expression:"config.name"}}),e._v(" "),s("span",{staticClass:"title"},[e._v("COM口数量")]),e._v(" "),s("el-select",{staticStyle:{width:"70px"},on:{change:function(t){e.changePortNum("COM")}},model:{value:e.compilerTableConfig.COM.num,callback:function(t){e.$set(e.compilerTableConfig.COM,"num",t)},expression:"compilerTableConfig['COM'].num"}},e._l(e.compilerTableConfig.COM.maxNum+1,function(e,t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),e._v(" "),s("span",{staticClass:"title"},[e._v("AI口数量")]),e._v(" "),s("el-select",{staticStyle:{width:"70px"},on:{change:function(t){e.changePortNum("AI")}},model:{value:e.compilerTableConfig.AI.num,callback:function(t){e.$set(e.compilerTableConfig.AI,"num",t)},expression:"compilerTableConfig['AI'].num"}},e._l(e.compilerTableConfig.AI.maxNum+1,function(e,t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),e._v(" "),s("span",{staticClass:"title"},[e._v("DI口数量")]),e._v(" "),s("el-select",{staticStyle:{width:"70px"},on:{change:function(t){e.changePortNum("DI")}},model:{value:e.compilerTableConfig.DI.num,callback:function(t){e.$set(e.compilerTableConfig.DI,"num",t)},expression:"compilerTableConfig['DI'].num"}},e._l(e.compilerTableConfig.DI.maxNum+1,function(e,t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),e._v(" "),s("span",{staticClass:"title"},[e._v("DO口数量")]),e._v(" "),s("el-select",{staticStyle:{width:"70px"},on:{change:function(t){e.changePortNum("DO")}},model:{value:e.compilerTableConfig.DO.num,callback:function(t){e.$set(e.compilerTableConfig.DO,"num",t)},expression:"compilerTableConfig['DO'].num"}},e._l(e.compilerTableConfig.DO.maxNum+1,function(e,t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),e._v(" "),s("span",{staticClass:"title"},[e._v("蓄电池数量")]),e._v(" "),s("el-select",{staticStyle:{width:"70px"},on:{change:function(t){e.changePortNum("BAT")}},model:{value:e.compilerTableConfig.BAT.num,callback:function(t){e.$set(e.compilerTableConfig.BAT,"num",t)},expression:"compilerTableConfig['BAT'].num"}},e._l(e.compilerTableConfig.BAT.maxNum+1,function(e,t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),e._v(" "),s("span",{staticClass:"title"},[e._v("传感器数量")]),e._v(" "),s("el-select",{staticStyle:{width:"70px"},on:{change:function(t){e.changePortNum("CAN")}},model:{value:e.compilerTableConfig.CAN.num,callback:function(t){e.$set(e.compilerTableConfig.CAN,"num",t)},expression:"compilerTableConfig['CAN'].num"}},e._l(e.compilerTableConfig.CAN.maxNum+1,function(e,t){return s("el-option",{key:t,attrs:{label:t,value:t}})}))],1),e._v(" "),s("el-form-item",[s("el-table",{staticStyle:{"text-align":"left",width:"100%","padding-left":"10px"},attrs:{data:e.table,height:"530px"}},[s("el-table-column",{attrs:{label:"端口类型",width:"90px",prop:"name"}}),e._v(" "),s("el-table-column",{attrs:{label:"端口号",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.hasPort?s("el-select",{attrs:{placeholder:""},on:{change:function(s){e.selectPort(t.row.name)}},model:{value:t.row.port,callback:function(s){e.$set(t.row,"port",s)},expression:"scope.row.port"}},e._l(e.compilerTableConfig[t.row.name].portList,function(e){return s("el-option",{key:e.value,attrs:{label:e.value,value:e.value,disabled:e.disabled}})})):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"设备类型",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{attrs:{placeholder:""},on:{change:function(s){e.changeType(t.row)}},model:{value:t.row.deviceType,callback:function(s){e.$set(t.row,"deviceType",s)},expression:"scope.row.deviceType"}},[s("el-option",{key:"",attrs:{label:"",value:""}}),e._v(" "),e._l(t.row.deviceTypeList,function(e){return s("el-option",{key:e.Name,attrs:{label:e.Name,value:e.Name}})})],2)]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"设备型号",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{attrs:{placeholder:""},on:{change:function(s){e.changeModel(t.row)}},model:{value:t.row.modelIndex,callback:function(s){e.$set(t.row,"modelIndex",s)},expression:"scope.row.modelIndex"}},e._l(t.row.deviceModelList,function(e,t){return s("el-option",{key:e.Version,attrs:{label:e.Name,value:t}})}))]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"设备地址",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.hasAddress?s("el-select",{attrs:{placeholder:""},model:{value:t.row.address,callback:function(s){e.$set(t.row,"address",s)},expression:"scope.row.address"}},e._l(t.row.addressMax,function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"资源编号",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{placeholder:"请输入"},model:{value:t.row.serialNo,callback:function(s){e.$set(t.row,"serialNo",s)},expression:"scope.row.serialNo"}})]}}])}),e._v(" "),e._l(e.config.attachPort,function(t){return s("el-table-column",{key:t,attrs:{label:"附加端口"+t.toString(),width:"90px"},scopedSlots:e._u([{key:"default",fn:function(r){return[r.row.attachPortList.length>=t?s("el-select",{attrs:{placeholder:""},on:{change:function(s){e.selectAttachPort(r.row,t)}},model:{value:r.row.attachPortValue[t-1],callback:function(s){e.$set(r.row.attachPortValue,t-1,s)},expression:"scope.row.attachPortValue[num - 1]"}},e._l(r.row.attachPortList[t-1],function(e){return s("el-option",{key:e.value,attrs:{label:e.value,value:e.value,disabled:e.disabled}})})):e._e()]}}])})}),e._v(" "),s("el-table-column",{attrs:{label:"详细信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!=t.row.modelIndex?s("span",[e._v(e._s(t.row.deviceModelList[t.row.modelIndex].Description))]):e._e()]}}])})],2)],1),e._v(" "),s("el-form-item",{staticStyle:{"text-align":"right"}},[s("el-button",{attrs:{type:"primary",size:"medium",loading:e.compilerButton},on:{click:e.compiler}},[e._v("生成适配层")])],1)],1)},staticRenderFns:[]};var ue={name:"Update",components:{"v-program-table":s("VU/8")(le,ce,!1,function(e){s("WcRt")},"data-v-66a88547",null).exports},props:["uniqueID"],data:function(){return{info:[],program:"",programList:[],updateLoading:!1}},created:function(){var e=this;return u()(l.a.mark(function t(){var s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={fsuid:e.uniqueID},t.prev=1,t.next=4,e.axios.getStationDetail_CMCC(s);case 4:t.t0=t.sent.data,e.info=[t.t0],t.next=11;break;case 8:t.prev=8,t.t1=t.catch(1),e.$message({message:"获取基站信息失败",type:"error"});case 11:e.getProgramFiles();case 12:case"end":return t.stop()}},t,e,[[1,8]])}))()},computed:{username:function(){return this.$store.state.user.Username}},methods:{getProgramFiles:function(){var e=this;return u()(l.a.mark(function t(){var s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={user:e.username},t.prev=1,t.next=4,e.axios.getProgramFiles(s);case 4:e.programList=t.sent.data,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}},t,e,[[1,7]])}))()},update:function(){var e=this;return u()(l.a.mark(function t(){var s,r,a,i;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s="PMUZ11",void 0!==(r=e.productList.find(function(e){return e.UniqueIDKey===s}))){t.next=5;break}return e.$message({message:"未找到对应产品型号信息，无法升级",type:"error"}),t.abrupt("return");case 5:if(""!==e.program.trim()){t.next=8;break}return e.$message({message:"请选择适配层",type:"warning"}),t.abrupt("return");case 8:return e.updateLoading=!0,a={user:e.username,fsuid:e.info[0].FSUID,uniqueID:s,ip:e.info[0].IP,file:e.program,product:r},console.log(a),t.prev=11,t.next=14,e.axios.update_CMCC(a);case 14:1===(i=t.sent.data).Result?e.$message({message:"文件下发成功",type:"success"}):e.$message({message:i.Message,type:"error"}),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(11),console.log(t.t0),e.$message({message:"升级时发生异常",type:"error"});case 22:e.updateLoading=!1;case 23:case"end":return t.stop()}},t,e,[[11,18]])}))()}}},pe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-table",{staticStyle:{"text-align":"left"},attrs:{data:e.info}},[s("el-table-column",{attrs:{width:"55"}}),e._v(" "),s("el-table-column",{attrs:{label:"基站名称",prop:"Name"}}),e._v(" "),s("el-table-column",{attrs:{label:"FSUID",prop:"FSUID","min-width":"130px"}}),e._v(" "),s("el-table-column",{attrs:{label:"IP",prop:"IP"}}),e._v(" "),s("el-table-column",{attrs:{label:"适配层文件"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.program,callback:function(t){e.program=t},expression:"program"}},e._l(e.programList,function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})}))]}}])})],1),e._v(" "),s("div",{staticStyle:{"margin-top":"10px","text-align":"right",width:"100%"}},[s("el-button",{attrs:{type:"primary",size:"medium",loading:e.updateLoading},on:{click:e.update}},[e._v("开始升级")])],1),e._v(" "),s("div",[s("v-program-table",{staticStyle:{width:"100%"},on:{getProgramFiles:e.getProgramFiles}})],1)],1)},staticRenderFns:[]};var de={components:{"v-search-page":_,"v-detail-page":z,"v-single-update":K,"v-search-page-cmcc":se,"v-detail-page-cmcc":oe,"v-single-update-cmcc":s("VU/8")(ue,pe,!1,function(e){s("RAVt")},"data-v-51b17129",null).exports},data:function(){return{activeName:"search",tabs:[]}},created:function(){2===window.g.curBusinessSceneID?this.tabs.push({title:"基站查询",name:"search",content:"v-search-page-cmcc"}):this.tabs.push({title:"基站查询",name:"search",content:"v-search-page"})},methods:{selectMenuItem:function(e){this.$message(e.toString())},addDetailTab:function(e,t){for(var s=0;s<this.tabs.length;++s)if(this.tabs[s].name==="detail-"+t)return void(this.activeName=this.tabs[s].name);2===window.g.curBusinessSceneID?this.tabs.push({title:"数据查看-"+e+"-"+t,name:"detail-"+t,uniqueID:t,content:"v-detail-page-cmcc"}):this.tabs.push({title:"基站配置-"+e+"-"+t,name:"detail-"+t,uniqueID:t,content:"v-detail-page"}),this.activeName="detail-"+t},addUpdateTab:function(e,t){for(var s=0;s<this.tabs.length;++s)if(this.tabs[s].name==="update-"+t)return void(this.activeName=this.tabs[s].name);2===window.g.curBusinessSceneID?this.tabs.push({title:"基站升级-"+e+"-"+t,name:"update-"+t,uniqueID:t,content:"v-single-update-cmcc"}):this.tabs.push({title:"基站升级-"+e+"-"+t,name:"update-"+t,uniqueID:t,content:"v-single-update"}),this.activeName="update-"+t},removeTab:function(e){"search"!==e&&(this.activeName="search",this.tabs=this.tabs.filter(function(t){return t.name!==e}))}}},me={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-tabs",{staticStyle:{"margin-right":"20px","margin-bottom":"10px"},attrs:{type:"card",closable:""},on:{"tab-remove":e.removeTab},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabs,function(t){return s("el-tab-pane",{key:t.name,attrs:{label:t.title,name:t.name}},[s(t.content,{tag:"component",attrs:{uniqueID:t.uniqueID},on:{addUpdateTab:e.addUpdateTab,addDetailTab:e.addDetailTab}})],1)}))],1)},staticRenderFns:[]};var fe={data:function(){return{selectedFileVersionID:1,selectedProductID:1,selectedBusinessSceneID:1,updateFileInfo:[{Description:"引擎",Name:"",Version:"",MD5:""},{Description:"适配层",Name:"",Version:"",MD5:""},{Description:"FSU软件",Name:"",Version:"",MD5:""}],waitUpdate:!1}},created:function(){this.select()},computed:{fileVersionList:function(){return this.$store.state.fileVersionList},productList:function(){return this.$store.state.productList},businessSceneList:function(){return this.$store.state.businessSceneList},updateInfo:function(){return this.$store.state.updateInfo}},methods:{select:function(){if(void 0===this.updateInfo||void 0===this.updateInfo.EngineVerDic[this.selectedFileVersionID]||void 0===this.updateInfo.EngineVerDic[this.selectedFileVersionID][this.selectedBusinessSceneID]||void 0===this.updateInfo.EngineVerDic[this.selectedFileVersionID][this.selectedBusinessSceneID][this.selectedProductID])this.updateFileInfo[0].Name="",this.updateFileInfo[0].Version="",this.updateFileInfo[0].MD5="";else{var e=this.updateInfo.EngineVerDic[this.selectedFileVersionID][this.selectedBusinessSceneID][this.selectedProductID];this.updateFileInfo[0].Name=e.Name,this.updateFileInfo[0].Version=e.Version,this.updateFileInfo[0].MD5=e.MD5}if(void 0===this.updateInfo||void 0===this.updateInfo.ProgramVersionDic[this.selectedFileVersionID]||void 0===this.updateInfo.ProgramVersionDic[this.selectedFileVersionID][this.selectedBusinessSceneID]||void 0===this.updateInfo.ProgramVersionDic[this.selectedFileVersionID][this.selectedBusinessSceneID][this.selectedProductID]?this.updateFileInfo[1].Version="":this.updateFileInfo[1].Version=this.updateInfo.ProgramVersionDic[this.selectedFileVersionID][this.selectedBusinessSceneID][this.selectedProductID],void 0===this.updateInfo||void 0===this.updateInfo.FsuVerDic[this.selectedFileVersionID]||void 0===this.updateInfo.FsuVerDic[this.selectedFileVersionID][this.selectedBusinessSceneID]||void 0===this.updateInfo.FsuVerDic[this.selectedFileVersionID][this.selectedBusinessSceneID][this.selectedProductID])this.updateFileInfo[2].Name="",this.updateFileInfo[2].Version="",this.updateFileInfo[2].MD5="";else{var t=this.updateInfo.FsuVerDic[this.selectedFileVersionID][this.selectedBusinessSceneID][this.selectedProductID];this.updateFileInfo[2].Name=t.Name,this.updateFileInfo[2].Version=t.Version,this.updateFileInfo[2].MD5=t.MD5}},updateEngine:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={FileVersion:{ID:e.selectedFileVersionID},Product:{ID:e.selectedProductID},BusinessScene:{ID:e.selectedBusinessSceneID}},e.waitUpdate=!0,t.prev=2,t.next=5,e.axios.updateEngine(s);case 5:if(!0!==(r=t.sent.data).Result){t.next=12;break}return t.next=9,e.updateVersion();case 9:e.$message({message:"更新成功",type:"success"}),t.next=13;break;case 12:e.$message({message:"更新失败："+r.Reason,type:"error"});case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"更新异常",type:"error"});case 19:return t.prev=19,e.waitUpdate=!1,t.finish(19);case 22:case"end":return t.stop()}},t,e,[[2,15,19,22]])}))()},updateProgram:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={FileVersion:{ID:e.selectedFileVersionID},Product:{ID:e.selectedProductID},BusinessScene:{ID:e.selectedBusinessSceneID}},e.waitUpdate=!0,t.prev=2,t.next=5,e.axios.updateProgram(s);case 5:if(!0!==(r=t.sent.data).Result){t.next=12;break}return t.next=9,e.updateVersion();case 9:e.$message({message:"更新成功",type:"success"}),t.next=13;break;case 12:e.$message({message:"更新失败："+r.Reason,type:"error"});case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"更新异常",type:"error"});case 19:return t.prev=19,e.waitUpdate=!1,t.finish(19);case 22:case"end":return t.stop()}},t,e,[[2,15,19,22]])}))()},updateFSU:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={FileVersion:{ID:e.selectedFileVersionID},Product:{ID:e.selectedProductID},BusinessScene:{ID:e.selectedBusinessSceneID}},e.waitUpdate=!0,t.prev=2,t.next=5,e.axios.updateFSU(s);case 5:if(!0!==(r=t.sent.data).Result){t.next=12;break}return t.next=9,e.updateVersion();case 9:e.$message({message:"更新成功",type:"success"}),t.next=13;break;case 12:e.$message({message:"更新失败："+r.Reason,type:"error"});case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),console.log(t.t0),e.$message({message:"更新异常",type:"error"});case 19:return t.prev=19,e.waitUpdate=!1,t.finish(19);case 22:case"end":return t.stop()}},t,e,[[2,15,19,22]])}))()},updateVersion:function(){var e=this;return u()(l.a.mark(function t(){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.axios.getDeviceInfo();case 2:return s=t.sent,t.next=5,e.axios.getUpdateFileInfo();case 5:(r=t.sent.data).ProgramVersionDic=s.data.ProgramVersionDic,e.$store.commit("setUpdateInfo",r);case 8:case"end":return t.stop()}},t,e)}))()}}},ve={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticStyle:{margin:"5px"}},[s("el-select",{attrs:{size:"small"},on:{change:e.select},model:{value:e.selectedFileVersionID,callback:function(t){e.selectedFileVersionID=t},expression:"selectedFileVersionID"}},e._l(e.fileVersionList,function(e){return s("el-option",{key:e.ID,attrs:{label:e.Description,value:e.ID}})})),e._v(" "),s("el-select",{attrs:{size:"small"},on:{change:e.select},model:{value:e.selectedBusinessSceneID,callback:function(t){e.selectedBusinessSceneID=t},expression:"selectedBusinessSceneID"}},e._l(e.businessSceneList,function(e){return s("el-option",{key:e.ID,attrs:{label:e.Description,value:e.ID}})})),e._v(" "),s("el-select",{attrs:{size:"small"},on:{change:e.select},model:{value:e.selectedProductID,callback:function(t){e.selectedProductID=t},expression:"selectedProductID"}},e._l(e.productList,function(e){return s("el-option",{key:e.ID,attrs:{label:e.Description,value:e.ID}})})),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.waitUpdate,size:"small"},on:{click:e.updateEngine}},[e._v("更新引擎")]),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.waitUpdate,size:"small"},on:{click:e.updateProgram}},[e._v("更新适配层")]),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.waitUpdate,size:"small"},on:{click:e.updateFSU}},[e._v("更新FSU软件")]),e._v(" "),s("el-table",{attrs:{data:e.updateFileInfo}},[s("el-table-column",{attrs:{label:"类型",prop:"Description"}}),e._v(" "),s("el-table-column",{attrs:{label:"文件名称",prop:"Name"}}),e._v(" "),s("el-table-column",{attrs:{label:"版本号",prop:"Version"}}),e._v(" "),s("el-table-column",{attrs:{label:"MD5",prop:"MD5"}})],1)],1)])},staticRenderFns:[]};var ge={name:"MainPage",components:{"v-menu":g,"v-header":D,"v-home-page":s("VU/8")(de,me,!1,function(e){s("woeg")},"data-v-67170e56",null).exports,"v-manager-page":s("VU/8")(fe,ve,!1,function(e){s("rncn")},"data-v-0e2f7434",null).exports},data:function(){return{show:{HomePage:!0,ManagerPage:!1}}},created:function(){var e=this;return u()(l.a.mark(function t(){var s,r,a,i,n,o,c,u,p,d,m,f,v,g,h,b,D,I,x,S,y,L;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.$store.state.user.Character,t.next=3,e.axios.getFileVersionList();case 3:return r=t.sent.data,e.$store.commit("setFileVersionList",r),t.next=7,e.axios.getBusinessSceneList();case 7:return a=t.sent.data,s<3&&(a=a.filter(function(e){return e.Used})),e.$store.commit("setBusinessSceneList",a),i=r.find(function(e){return e.ID===window.g.curFileVersionID}),e.$store.commit("setCurFileVersion",i),n=a.find(function(e){return e.ID===window.g.curBusinessSceneID}),e.$store.commit("setCurBusinessScene",n),t.next=16,e.axios.getDeviceInfo();case 16:for(u in o=t.sent,c={},o.data.DeviceInfoXlsHelperDic[i.ID.toString()][n.ID.toString()])c[u]=o.data.DeviceInfoXlsHelperDic[i.ID.toString()][n.ID.toString()][u].DeviceInfoXlsList;for(d in e.$store.commit("setDeviceInfoXls",c),p={},o.data.SignalInfoXlsHelperDic[i.ID.toString()][n.ID.toString()])p[d]=o.data.SignalInfoXlsHelperDic[i.ID.toString()][n.ID.toString()][d].DeviceNameDic;return e.$store.commit("setDeviceNameDic",p),t.next=25,e.axios.getUpdateFileInfo();case 25:for(v in(m=t.sent.data).ProgramVersionDic=o.data.ProgramVersionDic,e.$store.commit("setUpdateInfo",m),f={},p)for(g in f[v]={},p[v])for(void 0===f[v][g]&&(f[v][g]=[]),h=0;h<p[v][g].length;++h)for(f[v][g].push({Name:p[v][g][h].Name,Models:[]}),b=0;b<c[v].length;++b)c[v][b].DeviceType===p[v][g][h].Name&&f[v][g][h].Models.push({Name:c[v][b].DeviceModel,Version:c[v][b].DeviceVer,Description:c[v][b].DeviceDesc,AttachPortList:c[v][b].AttachPortList});return e.$store.commit("setDeviceInfo",f),t.next=33,e.axios.getStationStatusList();case 33:return D=t.sent.data,e.$store.commit("setStationStatusList",D),t.next=37,e.axios.getServerGroupList();case 37:for(I=t.sent.data,s<3&&(I=I.filter(function(e){return e.IsShow})),x=I.length-1;x>=0;--x)-1===e.$store.state.user.OMCIDList.indexOf(I[x].OMCID)&&I.splice(x,1);return e.$store.commit("setServerGroupList",I),t.next=43,e.axios.getWirelessModuleList();case 43:return S=t.sent.data,e.$store.commit("setWirelessModuleList",S),t.next=47,e.axios.getCarrierList();case 47:return y=t.sent.data,e.$store.commit("setCarrierList",y),t.next=51,e.axios.getNetWorkTypeList();case 51:L=t.sent.data,e.$store.commit("setNetWorkTypeList",L);case 53:case"end":return t.stop()}},t,e)}))()},methods:{selectMenuItem:function(e){for(var t in this.show)this.show[t]=!1;this.show[e]=!0}}},he={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",{staticStyle:{width:"100%",height:"100%"}},[s("el-main",{staticClass:"main"},[s("el-container",{staticStyle:{width:"100%",height:"100%"}},[s("el-aside",{attrs:{width:"140px"}},[s("v-menu",{on:{select:e.selectMenuItem}})],1),e._v(" "),s("el-main",{staticStyle:{padding:"0",width:"100%"}},[s("el-container",[s("el-header",{staticClass:"header",attrs:{height:"75px"}},[s("v-header")],1),e._v(" "),s("el-main",{staticClass:"main"},[s("v-home-page",{directives:[{name:"show",rawName:"v-show",value:e.show.HomePage,expression:"show['HomePage']"}]}),e._v(" "),s("v-manager-page",{directives:[{name:"show",rawName:"v-show",value:e.show.ManagerPage,expression:"show['ManagerPage']"}]})],1)],1)],1)],1)],1),e._v(" "),s("el-footer",{staticClass:"footer",attrs:{height:"30px"}},[e._v("Copyright ©2018 杭州义益钛迪信息技术有限公司")])],1)},staticRenderFns:[]};var be=s("VU/8")(ge,he,!1,function(e){s("WJ39")},"data-v-76bbccee",null).exports;r.default.use(n.a);var De=new n.a({routes:[{path:"/",redirect:"/Login"},{path:"/Login",name:"Login",component:m},{path:"/MainPage",name:"MainPage",component:be}]}),Ie=s("zL8q"),xe=s.n(Ie),Se=s("mtWM"),ye=s.n(Se);ye.a.interceptors.request.use(function(e){return e.headers={"Content-Type":"application/x-www-form-urlencoded"},e});var Le=window.g.genericUrl+"/Handlers",we=window.g.genericUrl+"/Station",Ce=window.g.compilerServer,_e=window.g.updateServer,ke={genericPhoto:we,getUserInfo:function(e){return ye.a.post(Le+"/User/CheckUser_BS.ashx",e)},getAddress:function(e){return ye.a.post(Le+"/Address/GetAddress.ashx",e)},getProductList:function(){return ye.a.get(Le+"/Product/GetProductList.ashx")},getFileVersionList:function(){return ye.a.get(Le+"/FileVersion/GetFileVersionList.ashx")},getBusinessSceneList:function(){return ye.a.get(Le+"/BusinessScene/GetBusinessSceneList.ashx")},getOMCIDCloudList:function(){return ye.a.get(Le+"/Cloud/getOMCIDCloudList.ashx")},getStationStatusList:function(){return ye.a.get(Le+"/StationStatus/GetStationStatusList.ashx")},getWirelessModuleList:function(){return ye.a.get(Le+"/VMInfo/GetWirelessModuleList.ashx")},getCarrierList:function(){return ye.a.get(Le+"/VMInfo/GetCarrierList.ashx")},getNetWorkTypeList:function(){return ye.a.get(Le+"/VMInfo/GetNetWorkTypeList.ashx")},getServerGroupList:function(){return ye.a.get(Le+"/NetInfo/GetServerGroupList.ashx")},uploadFilterFile:function(e){return ye.a.post(Le+"/Upload/FilterFile.ashx",e)},exportExcel:function(e){return ye.a.post(Le+"/Upload/Export.ashx",e,{responseType:"blob"})},getStationList:function(e){return ye.a.post(Le+"/Station/GetStationList.ashx",e)},getStationList_CMCC:function(e){return ye.a.post(Le+"/Station/GetStationList_CMCC.ashx",e)},getStationDetail:function(e){return ye.a.post(Le+"/Station/GetStationDetail.ashx",e)},getStationDetail_CMCC:function(e){return ye.a.post(Le+"/Station/GetStationDetail_CMCC.ashx",e)},getLogList:function(e){return ye.a.post(Le+"/Station/GetLogList.ashx",e)},getStation:function(e){return ye.a.post(Le+"/FSU/GetStation.ashx",e)},setStation:function(e){return ye.a.post(Le+"/FSU/SetStation.ashx",e)},GetGps:function(e){return ye.a.post(Le+"/FSU/GetGps.ashx",e)},SetGps:function(e){return ye.a.post(Le+"/FSU/SetGps.ashx",e)},getVersion:function(e){return ye.a.post(Le+"/FSU/GetVersion.ashx",e)},getStationStatus:function(e){return ye.a.post(Le+"/FSU/GetStationStatus.ashx",e)},setStationStatus:function(e){return ye.a.post(Le+"/FSU/SetStationStatus.ashx",e)},setTime:function(e){return ye.a.post(Le+"/FSU/SetTime.ashx",e)},reboot:function(e){return ye.a.post(Le+"/FSU/Reboot.ashx",e)},getWMInfo:function(e){return ye.a.post(Le+"/FSU/GetWMInfo.ashx",e)},getDeviceDescription:function(e){return ye.a.post(Le+"/FSU/GetDeviceDescription.ashx",e)},getDeviceStatus:function(e){return ye.a.post(Le+"/FSU/GetDeviceStatus.ashx",e)},setDeviceDescription:function(e){return ye.a.post(Le+"/FSU/SetDeviceDescription.ashx",e)},delDeviceDescription:function(e){return ye.a.post(Le+"/FSU/DelDeviceDescription.ashx",e)},getDeviceList_CMCC:function(e){return ye.a.post(Le+"/FSU/GetDeviceInfoList_CMCC.ashx",e)},getDeviceInfoList:function(e){return ye.a.post(Le+"/Transmission/GetDeviceInfo.ashx",e)},getData:function(e){return ye.a.post(Le+"/FSU/GetData.ashx",e)},getData_CMCC:function(e){return ye.a.post(Le+"/FSU/GetData_CMCC.ashx",e)},setData:function(e){return ye.a.post(Le+"/FSU/SetData.ashx",e)},setData_CMCC:function(e){return ye.a.post(Le+"/FSU/SetData_CMCC.ashx",e)},getAlarmParam:function(e){return ye.a.post(Le+"/FSU/GetAlarmParam.ashx",e)},setAlarmParam:function(e){return ye.a.post(Le+"/FSU/SetAlarmParam.ashx",e)},getActiveAlarm:function(e){return ye.a.post(Le+"/FSU/GetActiveAlarm.ashx",e)},getCamera:function(e){return ye.a.post(Le+"/FSU/GetCamera.ashx",e)},getPhotoList:function(e){return ye.a.post(Le+"/FSU/GetPhotoList.ashx",e)},getPhoto:function(e){return ye.a.post(Le+"/FSU/GetPhoto.ashx",e)},getServerGroup:function(e){return ye.a.post(Le+"/FSU/GetServerGroup.ashx",e)},setServerGroup:function(e){return ye.a.post(Le+"/FSU/SetServerGroup.ashx",e)},getSpareServerGroup:function(e){return ye.a.post(Le+"/FSU/GetSpareSrvGroup.ashx",e)},setSpareServerGroup:function(e){return ye.a.post(Le+"/FSU/SetSpareSrvGroup.ashx",e)},getProgramInfo:function(e){return ye.a.post(Le+"/FSU/GetProgramInfo.ashx",e)},getDeviceInfo:function(){return ye.a.get(Ce+"/DeviceInfo")},getProgramFiles:function(e){return ye.a.post(Le+"/User/GetProgramFiles.ashx",e)},delProgramFiles:function(e){return ye.a.post(Le+"/User/DelProgramFiles.ashx",e)},compiler:function(e){return ye.a.post(Le+"/Compiler/Compiler.ashx",e)},update:function(e){return ye.a.post(Le+"/FSU/Update.ashx",e)},update_CMCC:function(e){return ye.a.post(Le+"/FSU/Update_CMCC.ashx",e)},getUpdateFileInfo:function(){return ye.a.get(_e+"/FileInfo")},updateEngine:function(e){return ye.a.post(_e+"/UpdateEngine",e)},updateFSU:function(e){return ye.a.post(_e+"/UpdateFsu",e)},updateProgram:function(e){return ye.a.post(Ce+"/Update",e)}},Ae={compareVersion:function(e,t){try{var s=e.split("."),r=t.split(".");if(s.length!==r.length)return!1;for(var a=0;a<r.length;++a){if(parseInt(s[a])<parseInt(r[a]))return!1;if(parseInt(s[a])>parseInt(r[a]))return!0}return!0}catch(e){return!1}}},Fe=s("NYxO");s("tvR6"),s("uIYl");r.default.config.productionTip=!1,r.default.use(Fe.a),r.default.use(xe.a),r.default.prototype.axios=ke,r.default.prototype.common=Ae;var Ve=new Fe.a.Store({state:{user:void 0,pageSize:25,fileVersionList:void 0,businessSceneList:void 0,productList:void 0,curFileVersion:void 0,curBusinessScene:void 0,carrierList:void 0,netWorkTypeList:void 0,serverGroupList:void 0,stationStatusList:void 0,deviceInfoXls:void 0,deviceNameDic:void 0,deviceInfo:void 0,updateInfo:void 0},mutations:{setUser:function(e,t){e.user=t},setFileVersionList:function(e,t){e.fileVersionList=t},setBusinessSceneList:function(e,t){e.businessSceneList=t},setOmcIdCloudList:function(e,t){e.omcIdCloudList=t},setProductList:function(e,t){e.productList=t},setCurFileVersion:function(e,t){e.curFileVersion=t},setCurBusinessScene:function(e,t){e.curBusinessScene=t},setWirelessModuleList:function(e,t){e.wirelessModuleList=t},setCarrierList:function(e,t){e.carrierList=t},setNetWorkTypeList:function(e,t){e.netWorkTypeList=t},setServerGroupList:function(e,t){e.serverGroupList=t},setStationStatusList:function(e,t){e.stationStatusList=t},setDeviceInfoXls:function(e,t){e.deviceInfoXls=t},setDeviceNameDic:function(e,t){e.deviceNameDic=t},setDeviceInfo:function(e,t){e.deviceInfo=t},setUpdateInfo:function(e,t){e.updateInfo=t}}});new r.default({el:"#app",router:De,store:Ve,components:{App:i},template:"<App/>",watch:{$route:"checkLogin"},created:function(){this.checkLogin()},methods:{checkLogin:function(){void 0===Ve.state.user&&this.$router.push("/Login")}}})},OtNi:function(e,t){},QcO9:function(e,t){},RAVt:function(e,t){},WJ39:function(e,t){},WcRt:function(e,t){},WqiT:function(e,t){},XMVu:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAMCAYAAACEJVa/AAAAAXNSR0IArs4c6QAAAbRJREFUKBWVUk0oRFEUPue+N4YathZmZaGUhB5igZmSwjQWsmDDIHvsbOxs7aSMWTB+JqUxmqXnr0HNTChSWEhKZmeUZO47zhupmclT7ubezvm+c77znYvwywnpuuMtDUNE0AhABpI4qXU6VjVN+/wFDlgY9Id1jYmbQOAExAsiEgyqY+QdFiudvq72x0KOyA34w8elQLQFgCmy2atGva6msT63hqDWMs5G70Y0RKTkcsx3npKlHX0aiWa5Y3Vhx+XIYYMhMwlEPAPCBKoY9PW2x8wieUpYRQsDTgsLmECfpy3JHVd41AdAchsZeeQP702auaySQOSgW0pjkQFORFgf9boHzaTVYZ8wEN6fMxCmFBUaxdKuXmNIuY1ISUVRelShzluRf+I8Ejm8HTMI9CIl9KsoYZgQnusqyvqtVvhDzr0HECVv8pY9rBQEUM4+PPyngFksFIuVsIc1BHgtkOCUZTV//4/cXtbvaPTW/pr6WOAJSoSirmE8HredP6UP2dR6VnTCxr5Z0zlDYMtiAUt5LeP8l4LZ7YSurorS96kJltfKMMefRQDMr38pBGyMeFw3JvYLwzWo+PqwVd0AAAAASUVORK5CYII="},ZTYB:function(e,t){},"e+QN":function(e,t){},hiDg:function(e,t){},"iKY+":function(e,t){},myrM:function(e,t){},pz3t:function(e,t){},rncn:function(e,t){},"sC/+":function(e,t,s){e.exports=s.p+"static/img/login_logo.d1962c7.png"},tvR6:function(e,t){},uIYl:function(e,t){},uYk1:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAr1JREFUOBGtlc1rU0EQwGfeRxFL9OClFhG9qKB40CBCWtIVPGgrSSlNRa01bcCb6EH8GwRvHvSQULWXqmiSRhFBfCmpICUU0YMfF0WlVUFoVTz0JW+cea9b0kfEIt1DdnZ35vdmdmY2CH8ZueLUTkI3CUQHALA9UKNZQJxGsgsjiY63zUwxvHnzYWVHza1dJqBkcIYuIM35MuFmALJFRsCCZVuXhro73wV6we8KYK5Q7gX0xlh9PRHcMQCy2zdCWSlVE/VqtWq//Pwz7gFkECHF8N9AxuBIsiuvocvAAEb3GPTFQuo/kzj0TCs1m28Un8ZqhHcZ3AaEfRrqA/0wa+4MEf5oMe2Dp491fGwGCe/dKk1tXay7zxFpg2XZ+yR8jgpA7kzCFM9WCxMnBntin8RGbAMGS342afENi7czSXU87EWzdbbgXOf7O2ui2ZdOxO/zepzXA4gtuwy/NNhKEtDMOLyXm3DOC4yzPA8t3oyca1thGUt15ko2w8bh9Whp8ih4dIVrscaX358+oj6Izt4tkUmO0BUWw7louc50aYhCruiczBXLF4mzJGsZ2QfOHs/zxgnANADPDSfVk+AEIBqNLtUqtlt6s3Fm0AUOa39uoryb5eHRR5VNtFgvcbFH+AtXhxNd1xr1G2X2kNuJO8BxnGW4aWOGDb9zCEPs7Zjn1vMM28b39jiSUPyxlcO3Dbpolr3HaYba7xegS6ulu9ULwzYVQ7/x3gkGx/hqXkdaIwMpxLrW03Ngyy3JLEMaXQ6knbSCzOnu+CsESzFojhv3q2FZPanD0YVGHS1rW9u08uwEJ6Hg5NkoYQJ1hltu1HHWtQJYKaV+aUDjLC1YB6wAQXEkqXp94Jq3nv8E8ashjS69KV9t9KKZLDpBH0MbGXhKP2O+h9rgX8+XZFMSsKrnS0PX9IHVUJn/9y/gD8BrYVA+PMzgAAAAAElFTkSuQmCC"},uhww:function(e,t){},vs8N:function(e,t){},woeg:function(e,t){},wr34:function(e,t){}},["NHnr"]);